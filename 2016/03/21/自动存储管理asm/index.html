

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" href="/img/android-chrome-192x192.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Suncle Chen">
  <meta name="keywords" content="">
  
    <meta name="description" content="参考资料： https:&#x2F;&#x2F;docs.oracle.com&#x2F;cd&#x2F;B19306_01&#x2F;server.102&#x2F;b14231&#x2F;storeman.htm#ADMIN036 什么是ASM？ASM是Automatic Storage Management（自动存储管理）的缩写。ASM是一个集成的高性能的文件系统和卷管理器。Oracle将所有的存储分为disk groups，我们">
<meta property="og:type" content="article">
<meta property="og:title" content="自动存储管理ASM">
<meta property="og:url" content="https://suncle.me/2016/03/21/%E8%87%AA%E5%8A%A8%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86ASM/index.html">
<meta property="og:site_name" content="Suncle">
<meta property="og:description" content="参考资料： https:&#x2F;&#x2F;docs.oracle.com&#x2F;cd&#x2F;B19306_01&#x2F;server.102&#x2F;b14231&#x2F;storeman.htm#ADMIN036 什么是ASM？ASM是Automatic Storage Management（自动存储管理）的缩写。ASM是一个集成的高性能的文件系统和卷管理器。Oracle将所有的存储分为disk groups，我们">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://flowsnow.oss-cn-shanghai.aliyuncs.com/history/Oracle-ASM%E7%BB%84%E4%BB%B6%E7%9A%84%E5%85%B3%E7%B3%BB.png">
<meta property="og:image" content="https://flowsnow.oss-cn-shanghai.aliyuncs.com/history/Oracle-%E6%95%B0%E6%8D%AE%E5%9C%A8%E7%A3%81%E7%9B%98%E4%B8%AD%E7%9A%84%E5%88%86%E5%B8%83%E7%AE%A1%E7%90%86.png">
<meta property="og:image" content="https://flowsnow.oss-cn-shanghai.aliyuncs.com/history/Oracle-ASM%E5%8D%95%E5%AE%9E%E4%BE%8B%E6%9E%B6%E6%9E%84.png">
<meta property="og:image" content="https://flowsnow.oss-cn-shanghai.aliyuncs.com/history/Oracle-ASM%E7%9A%84RAC%E6%9E%B6%E6%9E%84.png">
<meta property="article:published_time" content="2016-03-21T02:08:50.000Z">
<meta property="article:modified_time" content="2022-08-25T03:50:32.428Z">
<meta property="article:author" content="Suncle Chen">
<meta property="article:tag" content="Oracle">
<meta property="article:tag" content="管理">
<meta property="article:tag" content="ASM">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://flowsnow.oss-cn-shanghai.aliyuncs.com/history/Oracle-ASM%E7%BB%84%E4%BB%B6%E7%9A%84%E5%85%B3%E7%B3%BB.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>自动存储管理ASM - Suncle</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"suncle.me","root":"/","version":"1.9.2","typing":{"enable":false,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":"41fc030db57d5570dd22f78997dc4a7e","google":"UA-72506112-1","gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Suncle" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 60vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Suncle&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/newsletter/">
                <i class="iconfont icon-mail"></i>
                周刊
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-books"></i>
                更多
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/">
                    <i class="iconfont icon-category-fill"></i>
                    分类
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/tags/">
                    <i class="iconfont icon-tags-fill"></i>
                    标签
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/atom.xml">
                    <i class="iconfont icon-rss-fill"></i>
                    RSS
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/suncle-banner.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle">自动存储管理ASM</span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2016-03-21 10:08" pubdate>
          2016年3月21日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          2.4k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          21 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="数据库"
        id="heading-68051bf4aa2743b030984b694628ee9c" role="tab" data-toggle="collapse" href="#collapse-68051bf4aa2743b030984b694628ee9c"
        aria-expanded="true"
      >
        数据库
        <span class="list-group-count">(26)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-68051bf4aa2743b030984b694628ee9c"
           role="tabpanel" aria-labelledby="heading-68051bf4aa2743b030984b694628ee9c">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2016/03/16/DBA%E5%B8%B8%E7%94%A8%E7%9A%84SQL%E8%AF%AD%E5%8F%A5/" title="DBA常用的SQL语句"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DBA常用的SQL语句</span>
        </a>
      
    
      
      
        <a href="/2016/03/16/DBA%E6%97%A5%E5%B8%B8%E5%B7%A5%E4%BD%9C%E5%92%8C%E8%81%8C%E8%B4%A3/" title="DBA日常工作和职责"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DBA日常工作和职责</span>
        </a>
      
    
      
      
        <a href="/2016/01/27/Oracle%20SQL%E8%AF%AD%E5%8F%A5%E5%88%86%E7%B1%BB/" title="Oracle SQL语句分类"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Oracle SQL语句分类</span>
        </a>
      
    
      
      
        <a href="/2016/03/16/Oracle%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84%E5%92%8C%E5%90%8E%E5%8F%B0%E8%BF%9B%E7%A8%8B/" title="Oracle内存结构和后台进程"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Oracle内存结构和后台进程</span>
        </a>
      
    
      
      
        <a href="/2016/12/01/oracle%E5%AD%97%E7%AC%A6%E9%9B%86%E6%A3%80%E6%9F%A5%E5%92%8C%E4%BF%AE%E6%94%B9/" title="Oracle字符集检查和修改"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Oracle字符集检查和修改</span>
        </a>
      
    
      
      
        <a href="/2016/03/16/Oracle%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/" title="Oracle数据字典"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Oracle数据字典</span>
        </a>
      
    
      
      
        <a href="/2016/02/19/Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AF%B9%E8%B1%A1/" title="Oracle数据库的对象"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Oracle数据库的对象</span>
        </a>
      
    
      
      
        <a href="/2016/02/06/Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%96%87%E4%BB%B6%E4%BB%A5%E5%8F%8AOracle%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/" title="Oracle数据库的文件以及Oracle体系架构"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Oracle数据库的文件以及Oracle体系架构</span>
        </a>
      
    
      
      
        <a href="/2016/03/16/Oracle%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="Oracle数据结构"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Oracle数据结构</span>
        </a>
      
    
      
      
        <a href="/2016/03/22/PL-SQL-Developer%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0Oracle-11g-64%E4%BD%8D%E6%95%B0%E6%8D%AE%E5%BA%93/" title="PL/SQL Developer连接本地Oracle 11g 64位数据库"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">PL/SQL Developer连接本地Oracle 11g 64位数据库</span>
        </a>
      
    
      
      
        <a href="/2016/03/16/RAC%E4%B8%8EDG/" title="RAC与DG"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">RAC与DG</span>
        </a>
      
    
      
      
        <a href="/2016/03/18/Rman%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E5%92%8C%E7%AE%A1%E7%90%86/" title="Rman备份恢复和管理"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Rman备份恢复和管理</span>
        </a>
      
    
      
      
        <a href="/2016/12/01/oracle%E7%9A%84userenv%E5%92%8Cnls-lang%E8%AF%A6%E8%A7%A3/" title="oracle的userenv和nls_lang详解"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">oracle的userenv和nls_lang详解</span>
        </a>
      
    
      
      
        <a href="/2016/02/19/PLSQL/" title="plsql"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">plsql</span>
        </a>
      
    
      
      
        <a href="/2016/07/08/sql%E8%AF%AD%E5%8F%A5%E4%B8%AD%E5%8A%A0%E5%8F%B7%E7%9A%84%E4%BD%9C%E7%94%A8/" title="sql语句中(+)的作用"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">sql语句中(+)的作用</span>
        </a>
      
    
      
      
        <a href="/2016/01/25/win7x64%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEOracle%2011g%20R2%E6%95%B0%E6%8D%AE%E5%BA%93/" title="win7x64安装配置Oracle 11g R2数据库"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">win7x64安装配置Oracle 11g R2数据库</span>
        </a>
      
    
      
      
        <a href="/2016/03/23/%E4%BA%8B%E5%8A%A1Transaction/" title="事务Transaction"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">事务Transaction</span>
        </a>
      
    
      
      
        <a href="/2016/03/16/%E5%81%9A%E4%B8%80%E5%90%8D%E5%90%88%E6%A0%BC%E7%9A%84DBA/" title="做一名合格的DBA"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">做一名合格的DBA</span>
        </a>
      
    
      
      
        <a href="/2018/01/22/%E5%85%B3%E4%BA%8E%E5%86%B7%E7%83%AD%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD%E5%92%8C%E6%81%A2%E5%A4%8D%E7%9A%84%E6%80%9D%E8%80%83/" title="关于冷热数据备份和恢复的思考"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">关于冷热数据备份和恢复的思考</span>
        </a>
      
    
      
      
        <a href="/2016/03/16/%E5%9B%9E%E6%BB%9A%E6%AE%B5undo/" title="回滚段undo"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">回滚段undo</span>
        </a>
      
    
      
      
        <a href="/2016/02/19/%E5%A4%8D%E6%9D%82%E4%B8%80%E7%82%B9%E7%9A%84SQL%E8%AF%AD%E5%8F%A5/" title="复杂一点的SQL语句"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">复杂一点的SQL语句</span>
        </a>
      
    
      
      
        <a href="/2017/05/10/%E5%B8%B8%E7%94%A8SQL%E9%9B%86%E9%94%A6/" title="常用Oracle SQL集锦"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">常用Oracle SQL集锦</span>
        </a>
      
    
      
      
        <a href="/2016/03/16/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD%E5%92%8C%E6%81%A2%E5%A4%8D/" title="数据库备份和恢复"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">数据库备份和恢复</span>
        </a>
      
    
      
      
        <a href="/2016/03/21/%E8%87%AA%E5%8A%A8%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86ASM/" title="自动存储管理ASM"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">自动存储管理ASM</span>
        </a>
      
    
      
      
        <a href="/2016/03/16/%E9%87%8D%E5%81%9A%E6%97%A5%E5%BF%97%E5%92%8C%E6%97%A5%E5%BF%97%E6%8C%96%E6%8E%98/" title="重做日志和日志挖掘"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">重做日志和日志挖掘</span>
        </a>
      
    
      
      
        <a href="/2016/03/21/%E9%97%AA%E5%9B%9Eflashback/" title="闪回flashback"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">闪回flashback</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">自动存储管理ASM</h1>
            
            
              <div class="markdown-body">
                
                <p>参考资料：</p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/cd/B19306_01/server.102/b14231/storeman.htm#ADMIN036">https://docs.oracle.com/cd/B19306_01&#x2F;server.102&#x2F;b14231&#x2F;storeman.htm#ADMIN036</a></p>
<h2 id="什么是ASM？"><a href="#什么是ASM？" class="headerlink" title="什么是ASM？"></a>什么是ASM？</h2><p>ASM是Automatic Storage Management（自动存储管理）的缩写。ASM是一个集成的高性能的文件系统和卷管理器。Oracle将所有的存储分为disk groups，我们只需要管理这些disk groups，而不用去管具体的数据文件。</p>
<p>In the SQL statements that you use for creating database structures such as tablespaces, control files, and redo and archive log files, you specify file location in terms of disk groups. ASM then creates and manages the associated underlying files（底层文件） for you.</p>
<h2 id="为什么使用ASM？"><a href="#为什么使用ASM？" class="headerlink" title="为什么使用ASM？"></a>为什么使用ASM？</h2><ul>
<li>提供高效率的存储管理</li>
<li>提供完整的集群文件系统和卷管理能力</li>
</ul>
<p><strong>ASM的优点：</strong></p>
<p><strong>Mirroring and Striping</strong>（镜像化和条带化）</p>
<p>条带化是一种用于在多个磁盘驱动器之间分散数据的技术。一个大的数据段被分为较小的单元，这些单元分布在可用设备之间。分隔数据的单元称为“数据单元大小”或“条带大小”，是指向每个磁盘写入这些条带的大小。可以同时读写的并行条带数量称为“条带宽度”。分条可以加快从磁盘存储中获取数据的操作，这是因为它扩展了总I&#x2F;O带宽的能力。这样就优化了性能和磁盘利用率，从而不再需要手动I&#x2F;O 性能调优。</p>
<p>ASM镜像化选项:</p>
<table>
<thead>
<tr>
<th>Mirroring Option</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>2-way mirroring</td>
<td>Each extent has 1 mirrored copy.</td>
</tr>
<tr>
<td>3-way mirroring</td>
<td>Each extent has 2 mirrored copies.</td>
</tr>
<tr>
<td>Unprotected</td>
<td>ASM provides no mirroring. Used when mirroring is provided by the disk subsystem itself.</td>
</tr>
</tbody></table>
<span id="more"></span>

<p><strong>Dynamic Storage Configuration</strong>（动态存储配置）</p>
<p>可以在数据库运行时更改数据库的配置，ASM会自动Rebalance。</p>
<p><strong>ASM Instance</strong>（Oracle实例）</p>
<p>ASM实例是一种Oracle实例，它为磁盘组、ADVM(ASM动态卷)和ACFS(ASM集群文件系统)管理元数据。所有元数据修改都是由ASM实例完成的，以隔离故障。数据库实例连接到一个ASM实例，以创建、删除、打开、关闭文件或者改变其大小，数据库实例直接读写由ASM实例管理的磁盘。Oracle在内部使用自动内存管理，很少需要对一个Oracle ASM实例进行调优。</p>
<p><strong>Interoperability with Existing Databases</strong></p>
<p>已存在数据库的互操作性。ASM并不会消除已存在系统的功能。</p>
<p><strong>Single Instance and Clustered Environments</strong></p>
<p>ASM支持单实例和集群环境。</p>
<h2 id="ASM的Components"><a href="#ASM的Components" class="headerlink" title="ASM的Components"></a>ASM的Components</h2><p>ASM的五项组成：disk groups, disks, failure groups, files, and templates。</p>
<p><img src="https://flowsnow.oss-cn-shanghai.aliyuncs.com/history/Oracle-ASM%E7%BB%84%E4%BB%B6%E7%9A%84%E5%85%B3%E7%B3%BB.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="disk-groups"><a href="#disk-groups" class="headerlink" title="disk groups"></a>disk groups</h3><p>ASM的首要组成就是disk groups，一组disk作为一个单元构成disk groups。</p>
<p>三种disk group类型对应的镜像选择：</p>
<table>
<thead>
<tr>
<th>Disk Group Type</th>
<th>Supported Mirroring Levels</th>
<th>Default Mirroring Level</th>
</tr>
</thead>
<tbody><tr>
<td>Normal redundancy</td>
<td>2-way3-wayUnprotected (none)</td>
<td>2-way</td>
</tr>
<tr>
<td>High redundancy</td>
<td>3-way</td>
<td>3-way</td>
</tr>
<tr>
<td>External redundancy</td>
<td>Unprotected (none)</td>
<td>Unprotected</td>
</tr>
</tbody></table>
<h3 id="disks"><a href="#disks" class="headerlink" title="disks"></a>disks</h3><p>在windows操作系统上，disk可能是一个分区（partition），在其他的平台上可能是：</p>
<ul>
<li>A partition of a logical unit number (LUN)</li>
<li>A network-attached file</li>
</ul>
<h3 id="failure-groups"><a href="#failure-groups" class="headerlink" title="failure groups"></a>failure groups</h3><p>故障组定义了一些ASM磁盘，它们可能共用一种潜在的故障装置。故障组是磁盘组中的一个磁盘子集，这个子集内的磁盘依赖于一个必须容忍其故障的公共硬件资源。只有对于普通冗余（Normal redundancy）或高冗余（High redundancy）配置，它才非常重要。相同数据的冗余副本被放置在不同的故障组中。</p>
<h3 id="files"><a href="#files" class="headerlink" title="files"></a>files</h3><p>写到ASM磁盘中的文件称为ASM文件。每个ASM文件都完全包含在单个磁盘组中，平均分布在这个组中的所有ASM磁盘上。一个ASM文件就是一个数据盘区集，每个数据盘区是分配单元的一个集合。由于在ASM文件变大时Oracle会自动增大数据盘区的大小，因此我们不能改变数据盘区的大小。</p>
<p><img src="https://flowsnow.oss-cn-shanghai.aliyuncs.com/history/Oracle-%E6%95%B0%E6%8D%AE%E5%9C%A8%E7%A3%81%E7%9B%98%E4%B8%AD%E7%9A%84%E5%88%86%E5%B8%83%E7%AE%A1%E7%90%86.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="templates"><a href="#templates" class="headerlink" title="templates"></a>templates</h3><p>Templates是文件属性值的集合。用来给每一种类型的数据库文件设置镜像化和条带化的属性的。</p>
<p>关于templates：</p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/cd/B19306_01/server.102/b14231/storeman.htm#i1019485">Managing Disk Group Templates</a></p>
<h2 id="ASM架构"><a href="#ASM架构" class="headerlink" title="ASM架构"></a>ASM架构</h2><p>ASM支持单实例架构和集群架构。</p>
<p>在一个数据库服务器中，可以存在多个数据库实例，一个数据库实例可以对应一个ASM实例，也可以多个数据库实例对应一个ASM实例。单实例架构如下图：</p>
<p><img src="https://flowsnow.oss-cn-shanghai.aliyuncs.com/history/Oracle-ASM%E5%8D%95%E5%AE%9E%E4%BE%8B%E6%9E%B6%E6%9E%84.png" srcset="/img/loading.gif" lazyload></p>
<p>ASM集群架构如下：多个ASM实例共同管理数据文件。数据库实例和ASM实例最常常见的还是一对一。</p>
<p><img src="https://flowsnow.oss-cn-shanghai.aliyuncs.com/history/Oracle-ASM%E7%9A%84RAC%E6%9E%B6%E6%9E%84.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Rebalance"><a href="#Rebalance" class="headerlink" title="Rebalance"></a>Rebalance</h2><ul>
<li>ASM rebalance 操作不会影响数据库的正常使用<ul>
<li>会影响I&#x2F;O效率</li>
</ul>
</li>
<li>能通过数据的重新分布，使得系统的I&#x2F;O得到最大的提升</li>
<li>从Oracle 10R2之后，如果关闭数据库实例，Rebalance操作会更快。</li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="category-chain-item">数据库</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Oracle/">#Oracle</a>
      
        <a href="/tags/%E7%AE%A1%E7%90%86/">#管理</a>
      
        <a href="/tags/ASM/">#ASM</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>自动存储管理ASM</div>
      <div>https://suncle.me/2016/03/21/自动存储管理ASM/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Suncle Chen</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2016年3月21日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2016/03/21/%E9%97%AA%E5%9B%9Eflashback/" title="闪回flashback">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">闪回flashback</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2016/03/18/Rman%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E5%92%8C%E7%AE%A1%E7%90%86/" title="Rman备份恢复和管理">
                        <span class="hidden-mobile">Rman备份恢复和管理</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'suncle1993/suncle1993.github.io');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>





  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
