<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png"><link rel="icon" href="/img/android-chrome-192x192.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="Suncle Chen"><meta name="keywords" content=""><meta name="description" content="JavaScript函数函数定义一个函数定义（也称为函数声明，或函数语句）由一系列的函数关键字组成, 依次为：  函数的名称。 函数参数列表，包围在括号( )中并由逗号( , )区隔。 函数功能，包围在花括号{ }中，用于定义函数功能的一些JavaScript语句。  123function add(x, y) &amp;#123;    return x + y;&amp;#125;  函数参数传递时，如果是传"><meta property="og:type" content="article"><meta property="og:title" content="JavaScript函数和类"><meta property="og:url" content="https://suncle.me/posts/3769256843/index.html"><meta property="og:site_name" content="Suncle"><meta property="og:description" content="JavaScript函数函数定义一个函数定义（也称为函数声明，或函数语句）由一系列的函数关键字组成, 依次为：  函数的名称。 函数参数列表，包围在括号( )中并由逗号( , )区隔。 函数功能，包围在花括号{ }中，用于定义函数功能的一些JavaScript语句。  123function add(x, y) &amp;#123;    return x + y;&amp;#125;  函数参数传递时，如果是传"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2017-04-18T15:00:29.000Z"><meta property="article:modified_time" content="2022-08-25T17:31:51.536Z"><meta property="article:author" content="Suncle Chen"><meta property="article:tag" content="函数"><meta property="article:tag" content="类"><meta property="article:tag" content="JavaScript"><meta name="twitter:card" content="summary_large_image"><meta name="referrer" content="no-referrer-when-downgrade"><title>JavaScript函数和类 - Suncle</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"suncle.me",root:"/",version:"1.9.2",typing:{enable:!1,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:"41fc030db57d5570dd22f78997dc4a7e",google:"UA-72506112-1",gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Suncle" type="application/atom+xml">
</head><body><header><div class="header-inner" style="height:60vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Suncle&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/categories/newsletter/"><i class="iconfont icon-mail"></i> 周刊</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> 更多</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类 </a><a class="dropdown-item" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签 </a><a class="dropdown-item" href="/atom.xml"><i class="iconfont icon-rss-fill"></i> RSS</a></div></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/suncle-banner.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">JavaScript函数和类</span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2017-04-18 23:00" pubdate>2017年4月18日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 7k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 59 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="前端" id="heading-9abfe4a03928eb88a75a5cd95822dfef" role="tab" data-toggle="collapse" href="#collapse-9abfe4a03928eb88a75a5cd95822dfef" aria-expanded="true">前端 <span class="list-group-count">(3)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-9abfe4a03928eb88a75a5cd95822dfef" role="tabpanel" aria-labelledby="heading-9abfe4a03928eb88a75a5cd95822dfef"><div class="category-post-list"><a href="/posts/3769256843/" title="JavaScript函数和类" class="list-group-item list-group-item-action active"><span class="category-post">JavaScript函数和类</span> </a><a href="/posts/2847555892/" title="JavaScript基础" class="list-group-item list-group-item-action"><span class="category-post">JavaScript基础</span> </a><a href="/posts/1715802062/" title="react基础" class="list-group-item list-group-item-action"><span class="category-post">react基础</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">JavaScript函数和类</h1><div class="markdown-body"><h1 id="JavaScript函数"><a href="#JavaScript函数" class="headerlink" title="JavaScript函数"></a>JavaScript函数</h1><h2 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h2><p>一个<strong>函数定义</strong>（也称为<strong>函数声明</strong>，或<strong>函数语句</strong>）由一系列的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/function"><code>函数</code></a>关键字组成, 依次为：</p><ul><li>函数的名称。</li><li>函数参数列表，包围在括号( )中并由逗号( , )区隔。</li><li>函数功能，包围在花括号{ }中，用于定义函数功能的一些JavaScript语句。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x, y</span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y;<br>&#125;<br></code></pre></td></tr></table></figure><p>函数参数传递时，如果是传值则是传形参。如果是传对象，则是传引用（函数内部对对象的改变对外部是可见的）。</p><h2 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h2><p>虽然上面的函数声明在语法上是一个语句，但函数也可以由<strong>函数表达式</strong>创建。这样的函数可以是<strong>匿名</strong>的；它不必有一个名称。例如，函数<code>square</code>也可这样来定义：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 第一种定义方式</span><br><span class="hljs-keyword">const</span> add = <span class="hljs-keyword">function</span>(<span class="hljs-params">x, y</span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y;<br>&#125;<br><br><span class="hljs-comment">// 第二种定义方式</span><br><span class="hljs-keyword">const</span> add = <span class="hljs-keyword">function</span> <span class="hljs-title function_">_add</span>(<span class="hljs-params">x, y</span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y;<br>&#125;<br></code></pre></td></tr></table></figure><p>函数表达式可以直接调用：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> val = <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y<br>&#125;(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val);  <span class="hljs-comment">// 输出4</span><br></code></pre></td></tr></table></figure><p>函数表达式就是把一个函数赋值给变量或者常量</p><p><strong>什么时候使用函数表达式？什么时候使用命名方式的函数表达式？</strong></p><span id="more"></span><ul><li>当存在递归的时候，应该以命名函数表达式的方式定义函数</li><li>不存在递归时，习惯使用函数表达式</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 演示1.命名方式定义函数,赋值给常量时，递归函数正常执行</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fib</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">fib</span>(x - <span class="hljs-number">1</span>) + <span class="hljs-title function_">fib</span>(x - <span class="hljs-number">2</span>)<br>    &#125;<br>&#125;<br><span class="hljs-keyword">const</span> fib2 = fib<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">fib2</span>(<span class="hljs-number">5</span>))<br><span class="hljs-keyword">delete</span> fib<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">fib2</span>(<span class="hljs-number">5</span>))<br><br><br><span class="hljs-comment">// 演示2.命名方式定义函数,赋值给变量，递归函数正常执行</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fib</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">fib</span>(x - <span class="hljs-number">1</span>) + <span class="hljs-title function_">fib</span>(x - <span class="hljs-number">2</span>)<br>    &#125;<br>&#125;<br><span class="hljs-keyword">let</span> fib2 = fib<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">fib2</span>(<span class="hljs-number">5</span>))<br><span class="hljs-keyword">delete</span> fib<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">fib2</span>(<span class="hljs-number">5</span>))<br><br><br><span class="hljs-comment">// 演示3.函数表达式方式定义递归函数时，有可能会存在问题</span><br><span class="hljs-keyword">let</span> fib = <span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">fib</span>(x - <span class="hljs-number">1</span>) + <span class="hljs-title function_">fib</span>(x - <span class="hljs-number">2</span>)<br>    &#125;<br>&#125;<br><span class="hljs-keyword">const</span> fib2 = fib<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">fib2</span>(<span class="hljs-number">5</span>))<br><span class="hljs-comment">//delete fib</span><br>fib = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">fib2</span>(<span class="hljs-number">5</span>))  <span class="hljs-comment">// 输出NaN		(NaN表示not a number)</span><br></code></pre></td></tr></table></figure><h2 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h2><p>JavaScript的高阶函数的定义和Python是一样的，只是JavaScript函数的参数可以直接写上函数的实现部分，而Python最多可以写上一个lambda函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 高阶函数：函数作为参数</span><br>map = <span class="hljs-keyword">function</span>(<span class="hljs-params">arr, fn</span>) &#123;<br>    <span class="hljs-keyword">const</span> result = []<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> a <span class="hljs-keyword">of</span> arr) &#123;<br>        result.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">fn</span>(a))<br>    &#125;<br>    <span class="hljs-keyword">return</span> result<br>&#125;<br><span class="hljs-keyword">let</span> square = <span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">return</span> x * x<br>&#125;<br><span class="hljs-keyword">const</span> val = <span class="hljs-title function_">map</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], square)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val)<br><br><br><span class="hljs-comment">// 高阶函数：函数实现直接作为参数</span><br>map = <span class="hljs-keyword">function</span>(<span class="hljs-params">arr, fn</span>) &#123;<br>    <span class="hljs-keyword">const</span> result = []<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> a <span class="hljs-keyword">of</span> arr) &#123;<br>        result.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">fn</span>(a))<br>    &#125;<br>    <span class="hljs-keyword">return</span> result<br>&#125;<br><span class="hljs-keyword">const</span> val = <span class="hljs-title function_">map</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], <span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">return</span> x * x<br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val)<br></code></pre></td></tr></table></figure><h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions">箭头函数表达式</a>（也称胖箭头函数, <strong>fat arrow function</strong>）主要作用是是函数表达式更为简洁。</p><ul><li>箭头函数总是匿名的</li><li>当箭头函数至少有一个参数时，可以省去小括号</li><li>当箭头函数只有一条语句时，可以省去大括号和return</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript">map = <span class="hljs-keyword">function</span>(<span class="hljs-params">arr, fn</span>) &#123;<br>    <span class="hljs-keyword">const</span> result = []<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> a <span class="hljs-keyword">of</span> arr) &#123;<br>        result.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">fn</span>(a))<br>    &#125;<br>    <span class="hljs-keyword">return</span> result<br>&#125;<br><br><span class="hljs-comment">// fn可以改写为箭头函数如下</span><br><span class="hljs-keyword">const</span> val1 = <span class="hljs-title function_">map</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x)<br>    <span class="hljs-keyword">return</span> x * x<br>&#125;)<br><br><span class="hljs-comment">// 更精简的箭头函数</span><br><span class="hljs-keyword">const</span> val2 = <span class="hljs-title function_">map</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * x)<br></code></pre></td></tr></table></figure><h2 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h2><p><strong>默认参数</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> add = <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y = <span class="hljs-number">5</span></span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>))  <span class="hljs-comment">// 6</span><br><br><span class="hljs-comment">// 到目前为止JavaScript仍然不支持位置参数跟在默认参数的后面</span><br><span class="hljs-keyword">const</span> add = <span class="hljs-keyword">function</span> (<span class="hljs-params">x = <span class="hljs-number">5</span>, y</span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(y = <span class="hljs-number">1</span>))  <span class="hljs-comment">// NaN</span><br></code></pre></td></tr></table></figure><p><strong>可变参数</strong></p><p>参数前加<code>...</code>表示其是可变参数，可变参数在函数体内，表现为一个数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 求所有参数的和</span><br><span class="hljs-keyword">const</span> sum = <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) &#123;<br>    <span class="hljs-keyword">let</span> ret = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> v <span class="hljs-keyword">of</span> args) &#123;<br>        ret += v<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret<br>&#125;<br><span class="hljs-keyword">const</span> val  = <span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val)<br></code></pre></td></tr></table></figure><p><strong>参数结构</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> add = <span class="hljs-keyword">function</span>(<span class="hljs-params">x, y</span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(...[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]))  <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure><p>而且不能对object做参数解构，因为JavaScript还不支持关键字参数。</p><h1 id="JavaScript类"><a href="#JavaScript类" class="headerlink" title="JavaScript类"></a>JavaScript类</h1><h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h2><ul><li>使用class关键字定义类</li><li>constructor方法是构造方法</li><li>使用new关键字创建对象，参数为constructor方法的参数</li><li>实例调用静态方法的时候需要通过constructor属性</li></ul><p><strong>代码</strong>：下面的代码会定一个点类Point</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br>  	<span class="hljs-comment">// 构造方法</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x, y</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = x;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = y;<br>    &#125;<br><br>  	<span class="hljs-comment">// 普通方法</span><br>    <span class="hljs-title function_">print</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`&lt;<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.x&#125;</span>, <span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.y&#125;</span>&gt;`</span>)<br>    &#125;<br><br>	<span class="hljs-comment">// 静态方法</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-title function_">info</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;this is static method&#x27;</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 可以使用类直接调用静态方法</span><br><span class="hljs-title class_">Point</span>.<span class="hljs-title function_">info</span>()<br><br><span class="hljs-comment">// 创建Point类的对象point</span><br><span class="hljs-keyword">let</span> point = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br><br><span class="hljs-comment">// 对象调用普通方法</span><br>point.<span class="hljs-title function_">print</span>()<br><br><span class="hljs-comment">// 实例不能直接调用静态方法</span><br><span class="hljs-comment">// point.info()	// 会报错：不存在point.info函数</span><br><br><span class="hljs-comment">// 实例的constructor属性等价于Python的__class__</span><br>point.<span class="hljs-property">constructor</span>.<span class="hljs-title function_">info</span>()<br></code></pre></td></tr></table></figure><h2 id="类表达式"><a href="#类表达式" class="headerlink" title="类表达式"></a>类表达式</h2><p>和函数一样，类除了有上面的命名方式的定义之外，还可以有类表达式。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">MyClass</span> = <span class="hljs-keyword">class</span> <span class="hljs-title class_">Me</span> &#123;<br>    <span class="hljs-title function_">getClassName</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Me</span>.<span class="hljs-property">name</span>;<br>    &#125;<br>&#125;;<br><span class="hljs-keyword">const</span> inst = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>();<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(inst.<span class="hljs-title function_">getClassName</span>()); <span class="hljs-comment">// Me</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Me</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// ReferenceError: Me is not defined</span><br></code></pre></td></tr></table></figure><p>类表达式本质上就是把一个类赋值给一个变量。</p><h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><ul><li>继承采用extends关键字，借鉴于Java</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point3D</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Point</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x, y, z</span>) &#123; <span class="hljs-comment">// 重写构造函数</span><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`x: <span class="hljs-subst">$&#123;x&#125;</span>, y: <span class="hljs-subst">$&#123;y&#125;</span>`</span>)<br>        <span class="hljs-comment">// this.z = x + y  this 不能再super之前使用</span><br>        <span class="hljs-variable language_">super</span>(x, y) <span class="hljs-comment">// 调用父类的构造函数</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">z</span> = z<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">format</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">format</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>)<br>    &#125;<br><br>    <span class="hljs-title function_">format</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">format</span>() + <span class="hljs-string">&#x27;xxx&#x27;</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point3D</span>(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>)<br>p.<span class="hljs-title function_">print</span>()<br></code></pre></td></tr></table></figure><h2 id="多继承-MixIn模式"><a href="#多继承-MixIn模式" class="headerlink" title="多继承-MixIn模式"></a>多继承-MixIn模式</h2><p>JavaScript中子类的使用有两个原因：</p><ul><li><p>接口继承：子类的实例肯定也是超类的实例（可以用instanceof运算符测试得到这条结论）。子类实例的行为类似于超类实例。但和超类实例相比，可以有一些额外的功能（即方法）。</p></li><li><p>实现继承：超类将功能传递给子类。实现继承的类的作用是有限的，因为只支持单继承，不可能从多个超类继承。</p></li></ul><p>用通俗的话举例子来理解接口继承和实现继承，下面有三个类，分别是：</p><ul><li>Person：人类</li><li>Storage：数据存储类，拥有一个存储数据的方法save</li><li>Validation：数据验证类，拥有一个验证数据的方法validate</li></ul><p><strong>代码</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123; <br><br> &#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Storage</span> &#123;<br>    <span class="hljs-title function_">save</span>(<span class="hljs-params">data</span>) &#123; <br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;store data&#x27;</span>)<br>     &#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Validation</span> &#123;<br>    <span class="hljs-title function_">validate</span>(<span class="hljs-params">schema</span>) &#123; <br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;validate data&#x27;</span>)<br>     &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>现在要定义一个职工类Employee ，那么这个职工类肯定是要继承自Person类的（难道你敢说职工不是人？），同时这个职工还需要有两个能力：一个是存储数据的能力，一个是验证数据的能力。那么就又需要继承自Storage类和Validation类。那么Employee 类从Person类继承就是接口继承，因为超类和子类的行为类似。Employee 类从Storage继承或者从Validation继承都是实现继承，因为超类只是将功能传递给子类。</p><p>如果我们想实现这样的一个Employee类，那么一个很自然的写法就是多继承，下面的这种写法虽然很自然，但是多数语言都是不支持的，因为多重继承的时候会出现继承冲突。关于多重继承的冲突举一个简单的例子：定义一个动物（类）既是狗（父类1）也是猫（父类2），两个父类都有“叫”这个方法。那么当我们调用“叫”这个方法时，它就不知道是狗叫还是猫叫了，这就是多重继承的冲突。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 在定义的时候就会抛出SyntaxError</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Person</span>, <span class="hljs-title class_">Storage</span>, <span class="hljs-title class_">Validation</span> &#123;<br><br>&#125;<br>em = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>()<br>em.<span class="hljs-title function_">save</span>()<br>em.<span class="hljs-title function_">validate</span>()<br></code></pre></td></tr></table></figure><p>为了实现多继承，ES6中有自己独特的MinIn技术：将实现继承的类视作一个函数，输入是超类，输出是扩展该超类的子类</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123; <br><br> &#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Storage</span> = <span class="hljs-title class_">Sup</span> =&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">Sup</span> &#123;<br>    <span class="hljs-title function_">save</span>(<span class="hljs-params">data</span>) &#123; <br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;store data&#x27;</span>)<br>     &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Validation</span> = <span class="hljs-title class_">Sup</span> =&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">Sup</span> &#123;<br>    <span class="hljs-title function_">validate</span>(<span class="hljs-params">schema</span>) &#123; <br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;validate data&#x27;</span>)<br>     &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Storage</span>(<span class="hljs-title class_">Validation</span>(<span class="hljs-title class_">Person</span>)) &#123; <br><br>&#125;<br><br>em = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>()<br>em.<span class="hljs-title function_">save</span>()   <span class="hljs-comment">// 输出store data</span><br>em.<span class="hljs-title function_">validate</span>()   <span class="hljs-comment">// 输出validate data</span><br></code></pre></td></tr></table></figure><p>通过这样的MixIn技术给Person类混入了Storage类的save方法和Validation类的validate方法，成功的变相的实现了多继承。</p><p>下面再举一个例子</p><ul><li>Point类</li><li>可序列化类Serializable</li><li>Point3D类：需要继承自Point类，然后还需要混入可序列化的功能</li></ul><p><strong>代码</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x ,y</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = x<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = y<br>    &#125;<br><br>    <span class="hljs-title function_">print</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`(<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.x&#125;</span>, <span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.y&#125;</span>)`</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Serializable</span>  = <span class="hljs-title class_">Sup</span> =&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">Sup</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">...args</span>) &#123;<br>        <span class="hljs-variable language_">super</span>(...args)<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">stringify</span> !== <span class="hljs-string">&#x27;function&#x27;</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReferenceError</span>(<span class="hljs-string">&#x27;must be define stringify&#x27;</span>)<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">parse</span> !== <span class="hljs-string">&#x27;function&#x27;</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReferenceError</span>(<span class="hljs-string">&#x27;must be define parse&#x27;</span>)<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point3D</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Serializable</span>(<span class="hljs-title class_">Point</span>)&#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x, y, z</span>) &#123;<br>        <span class="hljs-variable language_">super</span>(x, y)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">z</span> = z<br>    &#125;<br><br>    <span class="hljs-keyword">static</span> <span class="hljs-title function_">stringify</span>(<span class="hljs-params">obj</span>) &#123;<br>        <span class="hljs-keyword">let</span> &#123;x, y, z&#125; = obj<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(&#123;x, y, z&#125;)    <span class="hljs-comment">// 返回值是一个string</span><br>    &#125;<br><br>    <span class="hljs-keyword">static</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">data</span>) &#123;<br>        <span class="hljs-keyword">let</span> &#123;x, y, z&#125; = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data)<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point3D</span>(x, y, z)<br>    &#125;<br><br>&#125;<br><br>p3d_obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point3D</span>(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>,<span class="hljs-number">19</span>)<br>str = p3d_obj.<span class="hljs-title function_">toString</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str) <span class="hljs-comment">// &#123;&quot;x&quot;:2,&quot;y&quot;:5,&quot;z&quot;:19&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> str)  <span class="hljs-comment">// string</span><br><br>new_P3d = <span class="hljs-title class_">Point3D</span>.<span class="hljs-title function_">parse</span>(str)	<span class="hljs-comment">// //通过序列化反序列化复制对象</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(new_P3d)    <span class="hljs-comment">// Point3D &#123; x: 2, y: 5, z: 19 &#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(new_P3d <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Point3D</span>) <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(new_P3d <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Point</span>)   <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(new_P3d == p3d_obj)    <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure><p>Serializable 在语义上变成一种装饰，用来装饰Person类，即 Employee 是一种可序列化的 Person。这种MixIn的思想就是Python装饰器在JavaScript里面的应用了，只是JavaScript没有像Python一样用语法糖的形式来实现。</p><hr><p>参考：</p><ol><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Functions">MDN-函数</a></li><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes">MDN-类</a></li><li><a target="_blank" rel="noopener" href="http://exploringjs.com/es6/ch_classes.html#sec_simple-mixins"><strong>simple-mixins</strong></a></li><li><a target="_blank" rel="noopener" href="https://www.h5jun.com/post/mixin-in-es6.html">月影大神-类的装饰器：ES6 中优雅的 mixin 式继承</a></li><li><a target="_blank" rel="noopener" href="http://www.w3cschool.cn/ecmascript/e7yk1q5x.html">ECMAScript 6 Class</a></li><li><a target="_blank" rel="noopener" href="http://www.nodeclass.com/api/ECMAScript6.html">ECMAScript 6入门</a></li></ol></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E5%89%8D%E7%AB%AF/" class="category-chain-item">前端</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E5%87%BD%E6%95%B0/">#函数</a> <a href="/tags/%E7%B1%BB/">#类</a> <a href="/tags/JavaScript/">#JavaScript</a></div></div><div class="license-box my-3"><div class="license-title"><div>JavaScript函数和类</div><div>https://suncle.me/posts/3769256843/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Suncle Chen</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2017年4月18日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/posts/1715802062/" title="react基础"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">react基础</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/posts/2847555892/" title="JavaScript基础"><span class="hidden-mobile">JavaScript基础</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><script type="text/javascript">Fluid.utils.loadComments("#comments",(function(){var t=document.documentElement.getAttribute("data-user-color-scheme");t="dark"===t?"github-dark":"github-light",window.UtterancesThemeLight="github-light",window.UtterancesThemeDark="github-dark";var e=document.createElement("script");e.setAttribute("src","https://utteranc.es/client.js"),e.setAttribute("repo","suncle1993/suncle1993.github.io"),e.setAttribute("issue-term","pathname"),e.setAttribute("label","utterances"),e.setAttribute("theme",t),e.setAttribute("crossorigin","anonymous"),document.getElementById("comments").appendChild(e)}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var o=jQuery("#board-ctn").offset().top;window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-o}),t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var o=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),n=[];for(var i of o)n.push(".markdown-body > "+i.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(n.join(", "))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>