<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png"><link rel="icon" href="/img/android-chrome-192x192.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="Suncle Chen"><meta name="keywords" content=""><meta name="description" content="OpenCV的Mat类型以及基本函数使用Mat和IplImage的区别Mat和IplImage的主要区别在OpenCV中IplImage是表示一个图像的结构体，也是从OpenCV1.0到目前最为重要的一个结构；在之前的图像表示用IplImage，而且之前的OpenCV是用C语言编写的，提供的接口也是C语言接口。 Mat是后来OpenCV封装的一个C++类，用来表示一个图像，和IplImage表示基"><meta property="og:type" content="article"><meta property="og:title" content="OpenCV的Mat类型以及基本函数使用"><meta property="og:url" content="https://suncle.me/posts/2958280496/index.html"><meta property="og:site_name" content="Suncle"><meta property="og:description" content="OpenCV的Mat类型以及基本函数使用Mat和IplImage的区别Mat和IplImage的主要区别在OpenCV中IplImage是表示一个图像的结构体，也是从OpenCV1.0到目前最为重要的一个结构；在之前的图像表示用IplImage，而且之前的OpenCV是用C语言编写的，提供的接口也是C语言接口。 Mat是后来OpenCV封装的一个C++类，用来表示一个图像，和IplImage表示基"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2016-05-10T14:01:34.000Z"><meta property="article:modified_time" content="2022-08-26T02:44:02.079Z"><meta property="article:author" content="Suncle Chen"><meta property="article:tag" content="OpenCV"><meta property="article:tag" content="Mat"><meta name="twitter:card" content="summary_large_image"><meta name="referrer" content="no-referrer-when-downgrade"><title>OpenCV的Mat类型以及基本函数使用 - Suncle</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/prism/1.27.0/plugins/line-numbers/prism-line-numbers.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"suncle.me",root:"/",version:"1.9.2",typing:{enable:!1,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:"41fc030db57d5570dd22f78997dc4a7e",google:"UA-72506112-1",gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Suncle" type="application/atom+xml">
</head><body><header><div class="header-inner" style="height:60vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Suncle&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/categories/newsletter/"><i class="iconfont icon-mail"></i> 周刊</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" rel="external nofollow noreferrer" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> 更多</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类 </a><a class="dropdown-item" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签 </a><a class="dropdown-item" href="/atom.xml"><i class="iconfont icon-rss-fill"></i> RSS</a></div></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" rel="external nofollow noreferrer" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" rel="external nofollow noreferrer" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/suncle-banner.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">OpenCV的Mat类型以及基本函数使用</span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2016-05-10 22:01" pubdate>2016年5月10日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 14k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 118 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="图形学" id="heading-a3aadd0de903c699b58b0c5d83c71abb" role="tab" data-toggle="collapse" href="#collapse-a3aadd0de903c699b58b0c5d83c71abb" aria-expanded="true">图形学 <span class="list-group-count">(3)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-a3aadd0de903c699b58b0c5d83c71abb" role="tabpanel" aria-labelledby="heading-a3aadd0de903c699b58b0c5d83c71abb"><div class="category-post-list"><a href="/posts/2958280496/" title="OpenCV的Mat类型以及基本函数使用" class="list-group-item list-group-item-action active"><span class="category-post">OpenCV的Mat类型以及基本函数使用</span> </a><a href="/posts/4067358408/" title="关于OpenCV的stitching使用" class="list-group-item list-group-item-action"><span class="category-post">关于OpenCV的stitching使用</span> </a><a href="/posts/3732818714/" title="计算机图形学知识综述" class="list-group-item list-group-item-action"><span class="category-post">计算机图形学知识综述</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">OpenCV的Mat类型以及基本函数使用</h1><div class="markdown-body"><h1 id="OpenCV的Mat类型以及基本函数使用"><a href="#OpenCV的Mat类型以及基本函数使用" class="headerlink" title="OpenCV的Mat类型以及基本函数使用"></a>OpenCV的Mat类型以及基本函数使用</h1><h2 id="Mat和IplImage的区别"><a href="#Mat和IplImage的区别" class="headerlink" title="Mat和IplImage的区别"></a>Mat和IplImage的区别</h2><h3 id="Mat和IplImage的主要区别"><a href="#Mat和IplImage的主要区别" class="headerlink" title="Mat和IplImage的主要区别"></a>Mat和IplImage的主要区别</h3><p>在OpenCV中IplImage是表示一个图像的结构体，也是从OpenCV1.0到目前最为重要的一个结构；在之前的图像表示用IplImage，而且之前的OpenCV是用C语言编写的，提供的接口也是C语言接口。</p><p>Mat是后来OpenCV封装的一个C++类，用来表示一个图像，和IplImage表示基本一致，但是Mat还添加了一些图像函数。</p><h3 id="IplImage"><a href="#IplImage" class="headerlink" title="IplImage"></a>IplImage</h3><p>IplImage数据结构的定义在opencv\build\include\opencv2\core\types_c.h文件中。</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">typedef struct _IplImage
&#123;
    int  nSize;             &#x2F;* sizeof(IplImage) *&#x2F;
    int  ID;                &#x2F;* version (&#x3D;0)*&#x2F;
    int  nChannels;         &#x2F;* Most of OpenCV functions support 1,2,3 or 4 channels *&#x2F;
    int  alphaChannel;      &#x2F;* Ignored by OpenCV *&#x2F;
    int  depth;             &#x2F;* Pixel depth in bits: IPL_DEPTH_8U, IPL_DEPTH_8S, IPL_DEPTH_16S,
                               IPL_DEPTH_32S, IPL_DEPTH_32F and IPL_DEPTH_64F are supported.  *&#x2F;
    char colorModel[4];     &#x2F;* Ignored by OpenCV *&#x2F;
    char channelSeq[4];     &#x2F;* ditto *&#x2F;
    int  dataOrder;         &#x2F;* 0 - interleaved color channels, 1 - separate color channels.
                               cvCreateImage can only create interleaved images *&#x2F;
    int  origin;            &#x2F;* 0 - top-left origin,
                               1 - bottom-left origin (Windows bitmaps style).  *&#x2F;
    int  align;             &#x2F;* Alignment of image rows (4 or 8).
                               OpenCV ignores it and uses widthStep instead.    *&#x2F;
    int  width;             &#x2F;* Image width in pixels.                           *&#x2F;
    int  height;            &#x2F;* Image height in pixels.                          *&#x2F;
    struct _IplROI *roi;    &#x2F;* Image ROI. If NULL, the whole image is selected. *&#x2F;
    struct _IplImage *maskROI;      &#x2F;* Must be NULL. *&#x2F;
    void  *imageId;                 &#x2F;* &quot;           &quot; *&#x2F;
    struct _IplTileInfo *tileInfo;  &#x2F;* &quot;           &quot; *&#x2F;
    int  imageSize;         &#x2F;* Image data size in bytes
                               (&#x3D;&#x3D;image-&gt;height*image-&gt;widthStep
                               in case of interleaved data)*&#x2F;
    char *imageData;        &#x2F;* Pointer to aligned image data.         *&#x2F;
    int  widthStep;         &#x2F;* Size of aligned image row in bytes.    *&#x2F;
    int  BorderMode[4];     &#x2F;* Ignored by OpenCV.                     *&#x2F;
    int  BorderConst[4];    &#x2F;* Ditto.                                 *&#x2F;
    char *imageDataOrigin;  &#x2F;* Pointer to very origin of image data
                               (not necessarily aligned) -
                               needed for correct deallocation *&#x2F;
&#125;
IplImage;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>可见，IplImage是一个表示图像的结构体：C语言操作OpenCV的数据结构。地位等同于Mat，可以说是历史版本了。</p><span id="more"></span><h3 id="Mat"><a href="#Mat" class="headerlink" title="Mat"></a>Mat</h3><p>Mat这个数据结构定义在opencv\build\include\opencv2\core\core.hpp这个文件。</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class CV_EXPORTS Mat
&#123;
public:
    &#x2F;&#x2F;! default constructor
    Mat();
    &#x2F;&#x2F;! constructs 2D matrix of the specified size and type
    &#x2F;&#x2F; (_type is CV_8UC1, CV_64FC3, CV_32SC(12) etc.)
    Mat(int rows, int cols, int type);
    Mat(Size size, int type);
    &#x2F;&#x2F;! constucts 2D matrix and fills it with the specified value _s.
    Mat(int rows, int cols, int type, const Scalar&amp; s);
    Mat(Size size, int type, const Scalar&amp; s);

    &#x2F;&#x2F;! constructs n-dimensional matrix
    Mat(int ndims, const int* sizes, int type);
    Mat(int ndims, const int* sizes, int type, const Scalar&amp; s);

    &#x2F;&#x2F;! copy constructor
    Mat(const Mat&amp; m);
    &#x2F;&#x2F;! constructor for matrix headers pointing to user-allocated data
    Mat(int rows, int cols, int type, void* data, size_t step&#x3D;AUTO_STEP);
    Mat(Size size, int type, void* data, size_t step&#x3D;AUTO_STEP);
    Mat(int ndims, const int* sizes, int type, void* data, const size_t* steps&#x3D;0);

    &#x2F;&#x2F;! creates a matrix header for a part of the bigger matrix
    Mat(const Mat&amp; m, const Range&amp; rowRange, const Range&amp; colRange&#x3D;Range::all());
    Mat(const Mat&amp; m, const Rect&amp; roi);
    Mat(const Mat&amp; m, const Range* ranges);
    &#x2F;&#x2F;! converts old-style CvMat to the new matrix; the data is not copied by default
    Mat(const CvMat* m, bool copyData&#x3D;false);
    &#x2F;&#x2F;! converts old-style CvMatND to the new matrix; the data is not copied by default
    Mat(const CvMatND* m, bool copyData&#x3D;false);
    &#x2F;&#x2F;! converts old-style IplImage to the new matrix; the data is not copied by default
    Mat(const IplImage* img, bool copyData&#x3D;false);
    &#x2F;&#x2F;! builds matrix from std::vector with or without copying the data

   ......

protected:
    void initEmpty();
&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>Mat是OpenCV最基本的数据结构，Mat即矩阵（Matrix）的缩写我们在读取图片的时候就是将图片定义为Mat类型，其重载的构造函数一大堆。</p><p>其中有一个构造函数可以很方便的直接将IplImage转化为Mat</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">Mat(const IplImage* img, bool copyData&#x3D;false);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h2 id="基本函数使用"><a href="#基本函数使用" class="headerlink" title="基本函数使用"></a>基本函数使用</h2><h3 id="imread"><a href="#imread" class="headerlink" title="imread"></a>imread</h3><p>功能：从一个文件中载入图片</p><p>定义：</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">Mat imread( const string&amp; filename, int flags&#x3D;1 );<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>■第一个参数，const string&amp;类型的filename，这是我们需要载入的图片路径名。</p><p>在Windows操作系统下，OpenCV的imread函数支持常用的图片类型，比如bmp,jpg,jpeg,png等等。</p><p>■第二个参数，int类型的flags，为载入标识，它指定一个加载图像的颜色类型。可以看到它自带缺省值1.所以有时候这个参数在调用时我们可以忽略。如果在调用时忽略这个参数，就表示载入三通道的彩色图像。具体原因看下面的解释。</p><p>flags是int型的变量，我们可以按如下方式取值：</p><ul><li>flags &gt;0返回一个3通道的彩色图像。</li><li>flags &#x3D;0返回灰度图像。</li><li>flags &lt;0返回包含Alpha通道的加载的图像。</li></ul><p>需要注意的点：输出的图像默认情况下是不载入Alpha通道进来的。如果我们需要载入Alpha通道的话呢，这里就需要取负值。</p><p>所以默认值flags&#x3D;1表示载入三通道的彩色图像。</p><h3 id="imshow"><a href="#imshow" class="headerlink" title="imshow"></a>imshow</h3><p>功能：显示一个图像</p><p>定义：</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">void imshow(const string&amp; winname, InputArray mat);  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>■ 第一个参数，const string&amp;类型的winname，填需要显示的窗口标识名称。</p><p>■ 第二个参数，InputArray 类型的mat，填需要显示的图像。</p><p><strong>InputArray 类型是什么类型？</strong></p><p>通过转到定义，我们可以在opencv\build\include\opencv2\highgui\highgui.hpp文件中找到imshow的原型：</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">CV_EXPORTS_W void imshow(const string&amp; winname, InputArray mat);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>进一步对InputArray转到定义，在opencv\build\include\opencv2\core\core.hpp文件中查到一个typedef声明：</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">typedef const _InputArray&amp; InputArray;  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>这其实一个类型声明引用，就是说<code>_InputArray</code>和<code>InputArray</code>是一个意思，然后再次对_InputArray进行转到定义，终于，在opencv\build\include\opencv2\core\core.hpp文件中发现了InputArray的真身：</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">class CV_EXPORTS _InputArray
&#123;
public:
    enum &#123;
        KIND_SHIFT &#x3D; 16,
        FIXED_TYPE &#x3D; 0x8000 &lt;&lt; KIND_SHIFT,
        FIXED_SIZE &#x3D; 0x4000 &lt;&lt; KIND_SHIFT,
        KIND_MASK &#x3D; ~(FIXED_TYPE|FIXED_SIZE) - (1 &lt;&lt; KIND_SHIFT) + 1,

        NONE              &#x3D; 0 &lt;&lt; KIND_SHIFT,
        MAT               &#x3D; 1 &lt;&lt; KIND_SHIFT,
        MATX              &#x3D; 2 &lt;&lt; KIND_SHIFT,
        STD_VECTOR        &#x3D; 3 &lt;&lt; KIND_SHIFT,
        STD_VECTOR_VECTOR &#x3D; 4 &lt;&lt; KIND_SHIFT,
        STD_VECTOR_MAT    &#x3D; 5 &lt;&lt; KIND_SHIFT,
        EXPR              &#x3D; 6 &lt;&lt; KIND_SHIFT,
        OPENGL_BUFFER     &#x3D; 7 &lt;&lt; KIND_SHIFT,
        OPENGL_TEXTURE    &#x3D; 8 &lt;&lt; KIND_SHIFT,
        GPU_MAT           &#x3D; 9 &lt;&lt; KIND_SHIFT,
        OCL_MAT           &#x3D;10 &lt;&lt; KIND_SHIFT
    &#125;;
    _InputArray();

    _InputArray(const Mat&amp; m);
    _InputArray(const MatExpr&amp; expr);
    template&lt;typename _Tp&gt; _InputArray(const _Tp* vec, int n);
    template&lt;typename _Tp&gt; _InputArray(const vector&lt;_Tp&gt;&amp; vec);
    template&lt;typename _Tp&gt; _InputArray(const vector&lt;vector&lt;_Tp&gt; &gt;&amp; vec);
    _InputArray(const vector&lt;Mat&gt;&amp; vec);
    template&lt;typename _Tp&gt; _InputArray(const vector&lt;Mat_&lt;_Tp&gt; &gt;&amp; vec);
    template&lt;typename _Tp&gt; _InputArray(const Mat_&lt;_Tp&gt;&amp; m);
    template&lt;typename _Tp, int m, int n&gt; _InputArray(const Matx&lt;_Tp, m, n&gt;&amp; matx);
    _InputArray(const Scalar&amp; s);
    _InputArray(const double&amp; val);
    &#x2F;&#x2F; &lt; Deprecated
    _InputArray(const GlBuffer&amp; buf);
    _InputArray(const GlTexture&amp; tex);
    &#x2F;&#x2F; &gt;
    _InputArray(const gpu::GpuMat&amp; d_mat);
    _InputArray(const ogl::Buffer&amp; buf);
    _InputArray(const ogl::Texture2D&amp; tex);

    virtual Mat getMat(int i&#x3D;-1) const;
    virtual void getMatVector(vector&lt;Mat&gt;&amp; mv) const;
    &#x2F;&#x2F; &lt; Deprecated
    virtual GlBuffer getGlBuffer() const;
    virtual GlTexture getGlTexture() const;
    &#x2F;&#x2F; &gt;
    virtual gpu::GpuMat getGpuMat() const;
    &#x2F;*virtual*&#x2F; ogl::Buffer getOGlBuffer() const;
    &#x2F;*virtual*&#x2F; ogl::Texture2D getOGlTexture2D() const;

    virtual int kind() const;
    virtual Size size(int i&#x3D;-1) const;
    virtual size_t total(int i&#x3D;-1) const;
    virtual int type(int i&#x3D;-1) const;
    virtual int depth(int i&#x3D;-1) const;
    virtual int channels(int i&#x3D;-1) const;
    virtual bool empty() const;

#ifdef OPENCV_CAN_BREAK_BINARY_COMPATIBILITY
    virtual ~_InputArray();
#endif

    int flags;
    void* obj;
    Size sz;
&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>可以看到，_InputArray类的里面首先定义了一个枚举，然后定了各个构造函数和虚函数。很多时候，遇到函数原型中的InputArray类型，我们把它简单地当做Mat类型就行了。</p><p>imshow 函数用于在指定的窗口中显示图像。如果窗口是用CV_WINDOW_AUTOSIZE（默认值）标志创建的，那么显示图像原始大小。否则，将图像进行缩放以适合窗口。而imshow 函数缩放图像，取决于图像的深度：</p><ul><li>如果载入的图像是8位无符号类型（8-bit unsigned），就显示图像本来的样子。</li><li>如果图像是16位无符号类型（16-bit unsigned）或32位整型（32-bit integer），便用像素值除以256。也就是说，值的范围是[0,255 x 256]映射到[0,255]。</li><li>如果图像是32位浮点型（32-bit floating-point），像素值便要乘以255。也就是说，该值的范围是[0,1]映射到[0,255]。</li></ul><h3 id="imwrite"><a href="#imwrite" class="headerlink" title="imwrite"></a>imwrite</h3><p>功能：输出图像到文件</p><p>定义：</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">bool imwrite( const string&amp; filename, InputArray img,
              const vector&lt;int&gt;&amp; params&#x3D;vector&lt;int&gt;());<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>■ 第一个参数，const string&amp;类型的filename，填需要写入的文件名就行了，带上后缀，比如，“123.jpg”这样。</p><p>■ 第二个参数，InputArray类型的img，一般填一个Mat类型的图像数据就行了。</p><p>■ 第三个参数，<code>const vector&lt;int&gt;</code>&amp;类型的params，表示为特定格式保存的参数编码，它有默认值<code>vector&lt;int&gt;()</code>，所以一般情况下不需要填写。</p><h3 id="cvtcolor"><a href="#cvtcolor" class="headerlink" title="cvtcolor"></a>cvtcolor</h3><p>功能：将一个图像的颜色空间转换到另一种（Converts an image from one color space to another.）</p><p>参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.opencv.org.cn/opencvdoc/2.3.2/html/modules/imgproc/doc/miscellaneous_transformations.html?highlight=cvtcolor#cvtcolor">cvtcolor</a></p><p>定义：</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">void cvtColor( InputArray src, OutputArray dst, int code, int dstCn&#x3D;0 );<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>■ 第一个参数，InputArray类型的src ,– Source image</p><p>■ 第二个参数，OutputArray类型的dst，Destination image of the same size and depth as src</p><p>■ 第三个参数，int类型的code，颜色空间变换代码Color space conversion code。</p><p>具体的变换代码参见：opencv\build\include\opencv2\imgproc\types_c.h文件中的第87行，枚举类型。</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;* Constants for color conversion *&#x2F;
enum
&#123;
    CV_BGR2BGRA    &#x3D;0,
    CV_RGB2RGBA    &#x3D;CV_BGR2BGRA,

    CV_BGRA2BGR    &#x3D;1,
    CV_RGBA2RGB    &#x3D;CV_BGRA2BGR,

    CV_BGR2RGBA    &#x3D;2,
    CV_RGB2BGRA    &#x3D;CV_BGR2RGBA,

    CV_RGBA2BGR    &#x3D;3,
    CV_BGRA2RGB    &#x3D;CV_RGBA2BGR,

    CV_BGR2RGB     &#x3D;4,
    CV_RGB2BGR     &#x3D;CV_BGR2RGB,

    CV_BGRA2RGBA   &#x3D;5,
    CV_RGBA2BGRA   &#x3D;CV_BGRA2RGBA,

    CV_BGR2GRAY    &#x3D;6,
    CV_RGB2GRAY    &#x3D;7,
    CV_GRAY2BGR    &#x3D;8,
    CV_GRAY2RGB    &#x3D;CV_GRAY2BGR,
    CV_GRAY2BGRA   &#x3D;9,
    CV_GRAY2RGBA   &#x3D;CV_GRAY2BGRA,
    CV_BGRA2GRAY   &#x3D;10,
    CV_RGBA2GRAY   &#x3D;11,

    CV_BGR2BGR565  &#x3D;12,
    CV_RGB2BGR565  &#x3D;13,
    CV_BGR5652BGR  &#x3D;14,
    CV_BGR5652RGB  &#x3D;15,
    CV_BGRA2BGR565 &#x3D;16,
    CV_RGBA2BGR565 &#x3D;17,
    CV_BGR5652BGRA &#x3D;18,
    CV_BGR5652RGBA &#x3D;19,

    CV_GRAY2BGR565 &#x3D;20,
    CV_BGR5652GRAY &#x3D;21,

    CV_BGR2BGR555  &#x3D;22,
    CV_RGB2BGR555  &#x3D;23,
    CV_BGR5552BGR  &#x3D;24,
    CV_BGR5552RGB  &#x3D;25,
    CV_BGRA2BGR555 &#x3D;26,
    CV_RGBA2BGR555 &#x3D;27,
    CV_BGR5552BGRA &#x3D;28,
    CV_BGR5552RGBA &#x3D;29,

    CV_GRAY2BGR555 &#x3D;30,
    CV_BGR5552GRAY &#x3D;31,

    CV_BGR2XYZ     &#x3D;32,
    CV_RGB2XYZ     &#x3D;33,
    CV_XYZ2BGR     &#x3D;34,
    CV_XYZ2RGB     &#x3D;35,

    CV_BGR2YCrCb   &#x3D;36,
    CV_RGB2YCrCb   &#x3D;37,
    CV_YCrCb2BGR   &#x3D;38,
    CV_YCrCb2RGB   &#x3D;39,

    CV_BGR2HSV     &#x3D;40,
    CV_RGB2HSV     &#x3D;41,

    CV_BGR2Lab     &#x3D;44,
    CV_RGB2Lab     &#x3D;45,

    CV_BayerBG2BGR &#x3D;46,
    CV_BayerGB2BGR &#x3D;47,
    CV_BayerRG2BGR &#x3D;48,
    CV_BayerGR2BGR &#x3D;49,

    CV_BayerBG2RGB &#x3D;CV_BayerRG2BGR,
    CV_BayerGB2RGB &#x3D;CV_BayerGR2BGR,
    CV_BayerRG2RGB &#x3D;CV_BayerBG2BGR,
    CV_BayerGR2RGB &#x3D;CV_BayerGB2BGR,

    CV_BGR2Luv     &#x3D;50,
    CV_RGB2Luv     &#x3D;51,
    CV_BGR2HLS     &#x3D;52,
    CV_RGB2HLS     &#x3D;53,

    CV_HSV2BGR     &#x3D;54,
    CV_HSV2RGB     &#x3D;55,

    CV_Lab2BGR     &#x3D;56,
    CV_Lab2RGB     &#x3D;57,
    CV_Luv2BGR     &#x3D;58,
    CV_Luv2RGB     &#x3D;59,
    CV_HLS2BGR     &#x3D;60,
    CV_HLS2RGB     &#x3D;61,

    CV_BayerBG2BGR_VNG &#x3D;62,
    CV_BayerGB2BGR_VNG &#x3D;63,
    CV_BayerRG2BGR_VNG &#x3D;64,
    CV_BayerGR2BGR_VNG &#x3D;65,

    CV_BayerBG2RGB_VNG &#x3D;CV_BayerRG2BGR_VNG,
    CV_BayerGB2RGB_VNG &#x3D;CV_BayerGR2BGR_VNG,
    CV_BayerRG2RGB_VNG &#x3D;CV_BayerBG2BGR_VNG,
    CV_BayerGR2RGB_VNG &#x3D;CV_BayerGB2BGR_VNG,

    CV_BGR2HSV_FULL &#x3D; 66,
    CV_RGB2HSV_FULL &#x3D; 67,
    CV_BGR2HLS_FULL &#x3D; 68,
    CV_RGB2HLS_FULL &#x3D; 69,

    CV_HSV2BGR_FULL &#x3D; 70,
    CV_HSV2RGB_FULL &#x3D; 71,
    CV_HLS2BGR_FULL &#x3D; 72,
    CV_HLS2RGB_FULL &#x3D; 73,

    CV_LBGR2Lab     &#x3D; 74,
    CV_LRGB2Lab     &#x3D; 75,
    CV_LBGR2Luv     &#x3D; 76,
    CV_LRGB2Luv     &#x3D; 77,

    CV_Lab2LBGR     &#x3D; 78,
    CV_Lab2LRGB     &#x3D; 79,
    CV_Luv2LBGR     &#x3D; 80,
    CV_Luv2LRGB     &#x3D; 81,

    CV_BGR2YUV      &#x3D; 82,
    CV_RGB2YUV      &#x3D; 83,
    CV_YUV2BGR      &#x3D; 84,
    CV_YUV2RGB      &#x3D; 85,

    CV_BayerBG2GRAY &#x3D; 86,
    CV_BayerGB2GRAY &#x3D; 87,
    CV_BayerRG2GRAY &#x3D; 88,
    CV_BayerGR2GRAY &#x3D; 89,

    &#x2F;&#x2F;YUV 4:2:0 formats family
    CV_YUV2RGB_NV12 &#x3D; 90,
    CV_YUV2BGR_NV12 &#x3D; 91,
    CV_YUV2RGB_NV21 &#x3D; 92,
    CV_YUV2BGR_NV21 &#x3D; 93,
    CV_YUV420sp2RGB &#x3D; CV_YUV2RGB_NV21,
    CV_YUV420sp2BGR &#x3D; CV_YUV2BGR_NV21,

    CV_YUV2RGBA_NV12 &#x3D; 94,
    CV_YUV2BGRA_NV12 &#x3D; 95,
    CV_YUV2RGBA_NV21 &#x3D; 96,
    CV_YUV2BGRA_NV21 &#x3D; 97,
    CV_YUV420sp2RGBA &#x3D; CV_YUV2RGBA_NV21,
    CV_YUV420sp2BGRA &#x3D; CV_YUV2BGRA_NV21,

    CV_YUV2RGB_YV12 &#x3D; 98,
    CV_YUV2BGR_YV12 &#x3D; 99,
    CV_YUV2RGB_IYUV &#x3D; 100,
    CV_YUV2BGR_IYUV &#x3D; 101,
    CV_YUV2RGB_I420 &#x3D; CV_YUV2RGB_IYUV,
    CV_YUV2BGR_I420 &#x3D; CV_YUV2BGR_IYUV,
    CV_YUV420p2RGB &#x3D; CV_YUV2RGB_YV12,
    CV_YUV420p2BGR &#x3D; CV_YUV2BGR_YV12,

    CV_YUV2RGBA_YV12 &#x3D; 102,
    CV_YUV2BGRA_YV12 &#x3D; 103,
    CV_YUV2RGBA_IYUV &#x3D; 104,
    CV_YUV2BGRA_IYUV &#x3D; 105,
    CV_YUV2RGBA_I420 &#x3D; CV_YUV2RGBA_IYUV,
    CV_YUV2BGRA_I420 &#x3D; CV_YUV2BGRA_IYUV,
    CV_YUV420p2RGBA &#x3D; CV_YUV2RGBA_YV12,
    CV_YUV420p2BGRA &#x3D; CV_YUV2BGRA_YV12,

    CV_YUV2GRAY_420 &#x3D; 106,
    CV_YUV2GRAY_NV21 &#x3D; CV_YUV2GRAY_420,
    CV_YUV2GRAY_NV12 &#x3D; CV_YUV2GRAY_420,
    CV_YUV2GRAY_YV12 &#x3D; CV_YUV2GRAY_420,
    CV_YUV2GRAY_IYUV &#x3D; CV_YUV2GRAY_420,
    CV_YUV2GRAY_I420 &#x3D; CV_YUV2GRAY_420,
    CV_YUV420sp2GRAY &#x3D; CV_YUV2GRAY_420,
    CV_YUV420p2GRAY &#x3D; CV_YUV2GRAY_420,

    &#x2F;&#x2F;YUV 4:2:2 formats family
    CV_YUV2RGB_UYVY &#x3D; 107,
    CV_YUV2BGR_UYVY &#x3D; 108,
    &#x2F;&#x2F;CV_YUV2RGB_VYUY &#x3D; 109,
    &#x2F;&#x2F;CV_YUV2BGR_VYUY &#x3D; 110,
    CV_YUV2RGB_Y422 &#x3D; CV_YUV2RGB_UYVY,
    CV_YUV2BGR_Y422 &#x3D; CV_YUV2BGR_UYVY,
    CV_YUV2RGB_UYNV &#x3D; CV_YUV2RGB_UYVY,
    CV_YUV2BGR_UYNV &#x3D; CV_YUV2BGR_UYVY,

    CV_YUV2RGBA_UYVY &#x3D; 111,
    CV_YUV2BGRA_UYVY &#x3D; 112,
    &#x2F;&#x2F;CV_YUV2RGBA_VYUY &#x3D; 113,
    &#x2F;&#x2F;CV_YUV2BGRA_VYUY &#x3D; 114,
    CV_YUV2RGBA_Y422 &#x3D; CV_YUV2RGBA_UYVY,
    CV_YUV2BGRA_Y422 &#x3D; CV_YUV2BGRA_UYVY,
    CV_YUV2RGBA_UYNV &#x3D; CV_YUV2RGBA_UYVY,
    CV_YUV2BGRA_UYNV &#x3D; CV_YUV2BGRA_UYVY,

    CV_YUV2RGB_YUY2 &#x3D; 115,
    CV_YUV2BGR_YUY2 &#x3D; 116,
    CV_YUV2RGB_YVYU &#x3D; 117,
    CV_YUV2BGR_YVYU &#x3D; 118,
    CV_YUV2RGB_YUYV &#x3D; CV_YUV2RGB_YUY2,
    CV_YUV2BGR_YUYV &#x3D; CV_YUV2BGR_YUY2,
    CV_YUV2RGB_YUNV &#x3D; CV_YUV2RGB_YUY2,
    CV_YUV2BGR_YUNV &#x3D; CV_YUV2BGR_YUY2,

    CV_YUV2RGBA_YUY2 &#x3D; 119,
    CV_YUV2BGRA_YUY2 &#x3D; 120,
    CV_YUV2RGBA_YVYU &#x3D; 121,
    CV_YUV2BGRA_YVYU &#x3D; 122,
    CV_YUV2RGBA_YUYV &#x3D; CV_YUV2RGBA_YUY2,
    CV_YUV2BGRA_YUYV &#x3D; CV_YUV2BGRA_YUY2,
    CV_YUV2RGBA_YUNV &#x3D; CV_YUV2RGBA_YUY2,
    CV_YUV2BGRA_YUNV &#x3D; CV_YUV2BGRA_YUY2,

    CV_YUV2GRAY_UYVY &#x3D; 123,
    CV_YUV2GRAY_YUY2 &#x3D; 124,
    &#x2F;&#x2F;CV_YUV2GRAY_VYUY &#x3D; CV_YUV2GRAY_UYVY,
    CV_YUV2GRAY_Y422 &#x3D; CV_YUV2GRAY_UYVY,
    CV_YUV2GRAY_UYNV &#x3D; CV_YUV2GRAY_UYVY,
    CV_YUV2GRAY_YVYU &#x3D; CV_YUV2GRAY_YUY2,
    CV_YUV2GRAY_YUYV &#x3D; CV_YUV2GRAY_YUY2,
    CV_YUV2GRAY_YUNV &#x3D; CV_YUV2GRAY_YUY2,

    &#x2F;&#x2F; alpha premultiplication
    CV_RGBA2mRGBA &#x3D; 125,
    CV_mRGBA2RGBA &#x3D; 126,

    CV_RGB2YUV_I420 &#x3D; 127,
    CV_BGR2YUV_I420 &#x3D; 128,
    CV_RGB2YUV_IYUV &#x3D; CV_RGB2YUV_I420,
    CV_BGR2YUV_IYUV &#x3D; CV_BGR2YUV_I420,

    CV_RGBA2YUV_I420 &#x3D; 129,
    CV_BGRA2YUV_I420 &#x3D; 130,
    CV_RGBA2YUV_IYUV &#x3D; CV_RGBA2YUV_I420,
    CV_BGRA2YUV_IYUV &#x3D; CV_BGRA2YUV_I420,
    CV_RGB2YUV_YV12  &#x3D; 131,
    CV_BGR2YUV_YV12  &#x3D; 132,
    CV_RGBA2YUV_YV12 &#x3D; 133,
    CV_BGRA2YUV_YV12 &#x3D; 134,

    CV_COLORCVT_MAX  &#x3D; 135
&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>■ 第四个参数，int类型的dstCn，dst中的通道数（channel number ），dstCn默认为0，表示 dst中通道数自动从src和code中获取。</p><p>示例：</p><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F;将彩色图像image1变换为灰度图像gray_image1
cvtColor(image1,gray_image1,CV_RGB2GRAY);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><h2 id="综合示例"><a href="#综合示例" class="headerlink" title="综合示例"></a>综合示例</h2><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; VS2010 + OpenCV2.4.9

#include&lt;opencv2&#x2F;core&#x2F;core.hpp&gt;
#include&lt;opencv2&#x2F;highgui&#x2F;highgui.hpp&gt;

using namespace cv;


int main( )
&#123;
	Mat girl&#x3D;imread(&quot;girl.jpg&quot;); &#x2F;&#x2F;载入图像到Mat
	namedWindow(&quot;girl.jpg&quot;); 
	imshow(&quot;girl.jpg&quot;,girl);

	&#x2F;&#x2F;载入图片
	Mat image&#x3D; imread(&quot;11.jpg&quot;,199);

	&#x2F;&#x2F;载入后先显示
	namedWindow(&quot;11.jpg&quot;);
	imshow(&quot;11.jpg&quot;,image);

	&#x2F;&#x2F;输出一张jpg图片到工程目录下
	imwrite(&quot;10.jpg&quot;,image);
	 
	waitKey();

	return 0;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" class="category-chain-item">图形学</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/OpenCV/">#OpenCV</a> <a href="/tags/Mat/">#Mat</a></div></div><div class="license-box my-3"><div class="license-title"><div>OpenCV的Mat类型以及基本函数使用</div><div>https://suncle.me/posts/2958280496/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Suncle Chen</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2016年5月10日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/" rel="external nofollow noreferrer"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/posts/3660988069/" title="sql语句中(+)的作用"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">sql语句中(+)的作用</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/posts/161615340/" title="运维人员常用的Linux命令总结"><span class="hidden-mobile">运维人员常用的Linux命令总结</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><script type="text/javascript">Fluid.utils.loadComments("#comments",(function(){var t=document.documentElement.getAttribute("data-user-color-scheme");t="dark"===t?"github-dark":"github-light",window.UtterancesThemeLight="github-light",window.UtterancesThemeDark="github-dark";var e=document.createElement("script");e.setAttribute("src","https://utteranc.es/client.js"),e.setAttribute("repo","suncle1993/suncle1993.github.io"),e.setAttribute("issue-term","pathname"),e.setAttribute("label","utterances"),e.setAttribute("theme",t),e.setAttribute("crossorigin","anonymous"),document.getElementById("comments").appendChild(e)}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var o=jQuery("#board-ctn").offset().top;window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-o}),t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))</script><script src="https://lib.baomitu.com/prism/1.27.0/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var o=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),n=[];for(var i of o)n.push(".markdown-body > "+i.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(n.join(", "))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>