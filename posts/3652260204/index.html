<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png"><link rel="icon" href="/img/android-chrome-192x192.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="Suncle Chen"><meta name="keywords" content=""><meta name="description" content="0x0 说在前面Erlang读音&#x2F;ˈɜːrlæŋ&#x2F;。第一次见到的时候总感觉怎么读都读不对，后来在维基上看到Erlang标注了音标，才能准确的读出来，而且也没那么怪异。因为工作才有机会接触这门语言，也因此只有三天的时间可以看《Erlang程序设计》这本书。学习这门语言的时候带着一个工作目标：把一个Erlang日志收集分析统计的代码转换成Python的。而Erlang的风格是尽量不写注释，尽量在写函数"><meta property="og:type" content="article"><meta property="og:title" content="Erlang学习笔记(1)"><meta property="og:url" content="https://suncle.me/posts/3652260204/index.html"><meta property="og:site_name" content="Suncle"><meta property="og:description" content="0x0 说在前面Erlang读音&#x2F;ˈɜːrlæŋ&#x2F;。第一次见到的时候总感觉怎么读都读不对，后来在维基上看到Erlang标注了音标，才能准确的读出来，而且也没那么怪异。因为工作才有机会接触这门语言，也因此只有三天的时间可以看《Erlang程序设计》这本书。学习这门语言的时候带着一个工作目标：把一个Erlang日志收集分析统计的代码转换成Python的。而Erlang的风格是尽量不写注释，尽量在写函数"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2017-08-11T03:08:13.000Z"><meta property="article:modified_time" content="2022-08-26T02:29:58.106Z"><meta property="article:author" content="Suncle Chen"><meta property="article:tag" content="Erlang"><meta name="twitter:card" content="summary_large_image"><meta name="referrer" content="no-referrer-when-downgrade"><title>Erlang学习笔记(1) - Suncle</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"suncle.me",root:"/",version:"1.9.2",typing:{enable:!1,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:"41fc030db57d5570dd22f78997dc4a7e",google:"UA-72506112-1",gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Suncle" type="application/atom+xml">
</head><body><header><div class="header-inner" style="height:60vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Suncle&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/categories/newsletter/"><i class="iconfont icon-mail"></i> 周刊</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> 更多</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类 </a><a class="dropdown-item" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签 </a><a class="dropdown-item" href="/atom.xml"><i class="iconfont icon-rss-fill"></i> RSS</a></div></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/suncle-banner.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">Erlang学习笔记(1)</span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2017-08-11 11:08" pubdate>2017年8月11日 上午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 7.4k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 62 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="erlang" id="heading-622c84b69ee448a07d80de5cbeb13e3d" role="tab" data-toggle="collapse" href="#collapse-622c84b69ee448a07d80de5cbeb13e3d" aria-expanded="true">erlang <span class="list-group-count">(4)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-622c84b69ee448a07d80de5cbeb13e3d" role="tabpanel" aria-labelledby="heading-622c84b69ee448a07d80de5cbeb13e3d"><div class="category-post-list"><a href="/posts/574625734/" title="Erlang入门路线" class="list-group-item list-group-item-action"><span class="category-post">Erlang入门路线</span> </a><a href="/posts/3652260204/" title="Erlang学习笔记(1)" class="list-group-item list-group-item-action active"><span class="category-post">Erlang学习笔记(1)</span> </a><a href="/posts/3013774428/" title="Erlang测试全集(挖坑)" class="list-group-item list-group-item-action"><span class="category-post">Erlang测试全集(挖坑)</span> </a><a href="/posts/2854299904/" title="Erlang设计原则Behaviour" class="list-group-item list-group-item-action"><span class="category-post">Erlang设计原则Behaviour</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">Erlang学习笔记(1)</h1><div class="markdown-body"><h3 id="0x0-说在前面"><a href="#0x0-说在前面" class="headerlink" title="0x0 说在前面"></a>0x0 说在前面</h3><p>Erlang读音<code>/ˈɜːrlæŋ/</code>。第一次见到的时候总感觉怎么读都读不对，后来在维基上看到Erlang标注了音标，才能准确的读出来，而且也没那么怪异。因为工作才有机会接触这门语言，也因此只有三天的时间可以看《Erlang程序设计》这本书。学习这门语言的时候带着一个工作目标：把一个Erlang日志收集分析统计的代码转换成Python的。而Erlang的风格是尽量不写注释，尽量在写函数名和变量名的时候表达清楚代码的含义。这样一来学习Erlang就成了必要的，很庆幸，领导给了三天时间学习，三天时间基本也足够了。除了这一片基础语法的入门篇之外，后续还有一篇或者两篇并发编程和分布式编程的，毕竟这个才是Erlang擅长的领域。话不多说，<code>show me your article</code></p><span id="more"></span><h3 id="0x1-配置开发环境"><a href="#0x1-配置开发环境" class="headerlink" title="0x1 配置开发环境"></a>0x1 配置开发环境</h3><p>依赖工具：</p><ul><li>Erlang版本：18.3</li><li>IDE：IDEA</li></ul><p>下载链接：</p><ul><li>Erlang：<a target="_blank" rel="noopener" href="https://www.erlang.org/downloads">https://www.erlang.org/downloads</a> 选择otp18.3即可。</li><li>IDEA：<a target="_blank" rel="noopener" href="https://www.jetbrains.com/idea/download">https://www.jetbrains.com/idea/download</a> 选择社区版即可。</li></ul><p>IDEA配置Erlang插件：</p><ul><li><a target="_blank" rel="noopener" href="https://www.jetbrains.com/help/idea/getting-started-with-erlang.html#r_Getting_started_with_Erlang.xmld271393e315">IDEA官方文档-使用IDEA开发Erlang</a></li></ul><h3 id="0x2-基础知识"><a href="#0x2-基础知识" class="headerlink" title="0x2 基础知识"></a>0x2 基础知识</h3><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><ul><li>% 百分比符号标明注释的开始。</li><li>%% 两个符号通常用于注释函数。</li><li>%%% 三个符号通常用于注释模块。</li></ul><h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p>所有的变量都必须以大写字母开头，变量只可一次赋值，赋值之后不可在变。 f()函数释放shell绑定变量。</p><h4 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h4><ul><li>浮点数必须含有小数点且小数点后必须有一位10进制数</li><li>用&#x2F;来除两个整数时相除结果会自动转换成浮点数</li><li>div取整，rem取余</li></ul><h4 id="三种标点符号"><a href="#三种标点符号" class="headerlink" title="三种标点符号"></a>三种标点符号</h4><ul><li>整个函数的定义结束时用一个句号“.”</li><li>函数参数，数据构建，顺序语句之间，用逗号“,”分隔</li><li>函数定义、<code>case</code>、<code>if</code>、<code>try..catch</code>、<code>receive</code>表达式中的模式匹配时，用分号“;”分界</li></ul><h4 id="恒等"><a href="#恒等" class="headerlink" title="恒等"></a>恒等</h4><p>恒等测试符号 &#x3D;:&#x3D;以及不等测试符号 &#x3D;&#x2F;&#x3D;</p><h4 id="块表达式"><a href="#块表达式" class="headerlink" title="块表达式"></a>块表达式</h4><p>当程序中某处的语法要求只能使用单个表达式但是逻辑上又需要在此使用多个表达式时，就可以使用begin…end快表达式</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">begin</span><br>  Expr1,<br>  ...<br>  ExprN<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="0x3-内置数据结构"><a href="#0x3-内置数据结构" class="headerlink" title="0x3 内置数据结构"></a>0x3 内置数据结构</h3><h4 id="元组及模式匹配（解构）"><a href="#元组及模式匹配（解构）" class="headerlink" title="元组及模式匹配（解构）"></a>元组及模式匹配（解构）</h4><ul><li>_ 代表丢弃的变量，和python相同</li><li>匹配时模式匹配符&#x3D;左右两边的元组的结构必须相同。</li></ul><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; Point = &#123;point, <span class="hljs-number">20</span>, <span class="hljs-number">43</span>&#125;.<br>&#123;point,<span class="hljs-number">20</span>,<span class="hljs-number">43</span>&#125;<br><span class="hljs-number">2</span>&gt; &#123;point, x, y&#125; = Point.<br>** exception error: no match <span class="hljs-keyword">of</span> right hand side value &#123;point,<span class="hljs-number">20</span>,<span class="hljs-number">43</span>&#125;<br><span class="hljs-number">3</span>&gt; &#123;point, X, Y&#125; = Point.<br>&#123;point,<span class="hljs-number">20</span>,<span class="hljs-number">43</span>&#125;<br><span class="hljs-number">4</span>&gt; X.<br><span class="hljs-number">20</span><br><span class="hljs-number">5</span>&gt; Y.<br><span class="hljs-number">43</span><br><span class="hljs-number">6</span>&gt; Person = &#123;person, &#123;name, &#123;first, joe&#125;, &#123;last, armstrong&#125;&#125;, &#123;footsize, <span class="hljs-number">42</span>&#125;&#125;.<br>&#123;person,&#123;name,&#123;first,joe&#125;,&#123;last,armstrong&#125;&#125;,&#123;footsize,<span class="hljs-number">42</span>&#125;&#125;<br><span class="hljs-number">7</span>&gt; &#123;_, &#123;_, &#123;_, Who&#125;, &#123;_, _&#125;&#125;, &#123;_, Size&#125;&#125; = Person.<br>&#123;person,&#123;name,&#123;first,joe&#125;,&#123;last,armstrong&#125;&#125;,&#123;footsize,<span class="hljs-number">42</span>&#125;&#125;<br><span class="hljs-number">8</span>&gt; Who.<br>joe<br><span class="hljs-number">9</span>&gt; Size.<br><span class="hljs-number">42</span><br></code></pre></td></tr></table></figure><h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4><ul><li>列表元素可以是不同的类型。</li><li>列表头：列表的第一个元素</li><li>列表尾：列表除第一个元素剩下的部分</li><li>竖线符号|<ul><li>将列表的头和尾分割开来</li><li>[E1, E2, E4, … , |L]：使用|向列表L的起始处加入多个元素构造成新的列表</li></ul></li><li>列表链接操作符 ++ （中缀添加操作符）</li></ul><p><strong>列表操作演示代码</strong></p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; L = [<span class="hljs-number">1</span>+<span class="hljs-number">7</span>, hello, <span class="hljs-number">2</span>-<span class="hljs-number">2</span>, &#123;cost, apple, <span class="hljs-number">30</span>-<span class="hljs-number">20</span>&#125;, <span class="hljs-number">3</span>]. <br>[<span class="hljs-number">8</span>,hello,<span class="hljs-number">0</span>,&#123;cost,apple,<span class="hljs-number">10</span>&#125;,<span class="hljs-number">3</span>]<br><span class="hljs-number">2</span>&gt; L1 = [<span class="hljs-number">123</span>, &#123;oranges, <span class="hljs-number">4</span>&#125; | L].<br>[<span class="hljs-number">123</span>,&#123;oranges,<span class="hljs-number">4</span>&#125;,<span class="hljs-number">8</span>,hello,<span class="hljs-number">0</span>,&#123;cost,apple,<span class="hljs-number">10</span>&#125;,<span class="hljs-number">3</span>]<br><span class="hljs-number">3</span>&gt; [E1 | L2] = L1.<br>[<span class="hljs-number">123</span>,&#123;oranges,<span class="hljs-number">4</span>&#125;,<span class="hljs-number">8</span>,hello,<span class="hljs-number">0</span>,&#123;cost,apple,<span class="hljs-number">10</span>&#125;,<span class="hljs-number">3</span>]<br><span class="hljs-number">4</span>&gt; E1.<br><span class="hljs-number">123</span><br><span class="hljs-number">5</span>&gt; L2.<br>[&#123;oranges,<span class="hljs-number">4</span>&#125;,<span class="hljs-number">8</span>,hello,<span class="hljs-number">0</span>,&#123;cost,apple,<span class="hljs-number">10</span>&#125;,<span class="hljs-number">3</span>]<br><span class="hljs-number">6</span>&gt; [E2, E3 | L3] = L2.<br>[&#123;oranges,<span class="hljs-number">4</span>&#125;,<span class="hljs-number">8</span>,hello,<span class="hljs-number">0</span>,&#123;cost,apple,<span class="hljs-number">10</span>&#125;,<span class="hljs-number">3</span>]<br><span class="hljs-number">7</span>&gt; E3.<br><span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><p><strong>列表表达式</strong></p><p>形式：[F(X) || X &lt;- L]</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; L = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>].<br>[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br><span class="hljs-number">2</span>&gt; [<span class="hljs-number">2</span> * X || X &lt;- L].<br>[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">8</span>,<span class="hljs-number">10</span>]<br><span class="hljs-number">3</span>&gt; [X || &#123;a, X&#125; &lt;- [&#123;a, <span class="hljs-number">1</span>&#125;, &#123;b, <span class="hljs-number">2</span>&#125;, &#123;c, <span class="hljs-number">3</span>&#125;, &#123;a, <span class="hljs-number">4</span>&#125;, hello, <span class="hljs-string">&quot;wow&quot;</span>]].<br>[<span class="hljs-number">1</span>,<span class="hljs-number">4</span>]<br></code></pre></td></tr></table></figure><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>Erlang的字符串是一个整数列表。整数列表的内容由每一个字符对应的ascii码构成</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; I = $s.<br><span class="hljs-number">115</span><br><span class="hljs-number">2</span>&gt; [I-<span class="hljs-number">32</span>, $u, $r, $p, $r, $i, $s, $e].<br><span class="hljs-string">&quot;Surprise&quot;</span><br><span class="hljs-number">3</span>&gt; $r.                                <br><span class="hljs-number">114</span><br><span class="hljs-number">4</span>&gt; [I-<span class="hljs-number">32</span>, $u, $r, $p, <span class="hljs-number">114</span>, $i, $s, $e].<br><span class="hljs-string">&quot;Surprise&quot;</span><br></code></pre></td></tr></table></figure><h4 id="映射组-Map"><a href="#映射组-Map" class="headerlink" title="映射组(Map)"></a>映射组(Map)</h4><p>映射组是一个由多个Key-Vaule结构组成的符合数据类型，类似于Python的字典。具体使用如下</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; M1 = #&#123;<span class="hljs-string">&quot;name&quot;</span> =&gt; <span class="hljs-string">&quot;alicdn&quot;</span>, <span class="hljs-string">&quot;percentage&quot;</span> =&gt; <span class="hljs-number">80</span>&#125;.<br>#&#123;<span class="hljs-string">&quot;name&quot;</span> =&gt; <span class="hljs-string">&quot;alicdn&quot;</span>,<span class="hljs-string">&quot;percentage&quot;</span> =&gt; <span class="hljs-number">80</span>&#125;<br><span class="hljs-number">2</span>&gt; maps:get(<span class="hljs-string">&quot;name&quot;</span>, M1).<br><span class="hljs-string">&quot;alicdn&quot;</span><br><span class="hljs-number">3</span>&gt; M2 = maps:update(<span class="hljs-string">&quot;percentage&quot;</span>, <span class="hljs-number">50</span>, M1).<br>#&#123;<span class="hljs-string">&quot;name&quot;</span> =&gt; <span class="hljs-string">&quot;alicdn&quot;</span>,<span class="hljs-string">&quot;percentage&quot;</span> =&gt; <span class="hljs-number">50</span>&#125;<br><span class="hljs-number">4</span>&gt; map_size(M1).<br><span class="hljs-number">2</span><br><span class="hljs-number">5</span>&gt; #&#123;<span class="hljs-string">&quot;name&quot;</span> := X, <span class="hljs-string">&quot;percentage&quot;</span> := Y&#125; = M2.<br>#&#123;<span class="hljs-string">&quot;name&quot;</span> =&gt; <span class="hljs-string">&quot;alicdn&quot;</span>,<span class="hljs-string">&quot;percentage&quot;</span> =&gt; <span class="hljs-number">50</span>&#125;<br><span class="hljs-number">6</span>&gt; X.<br><span class="hljs-string">&quot;alicdn&quot;</span><br><span class="hljs-number">7</span>&gt; Y.<br><span class="hljs-number">50</span><br></code></pre></td></tr></table></figure><p>构造映射组和模式匹配时的符号不一样，<code>=&gt;</code>和<code>:=</code>的区别。常见的put方法参见erlang maps库的使用。</p><h3 id="0x4-模块"><a href="#0x4-模块" class="headerlink" title="0x4 模块"></a>0x4 模块</h3><ul><li>一个模块存放于一个.erl文件中（模块名和文件名相同）</li><li>编译模块的命令：c(模块名)。编译成功之后就会加载到当前shell中</li><li>调用模块中的函数：模块名:函数名(参数)</li><li>导入模块中的函数：<code>-import(lists, [map/2, sum/1]).</code></li><li>导出模块中的函数：<ul><li>导出指定函数<code>-export([start/0, area/2]).</code></li><li>导出全部函数<code>-compile(export_all).</code>，避免在开发阶段经常会向export中添加函数或者删除函数</li></ul></li></ul><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">-module</span><span class="hljs-params">(learn_test)</span>.<br><span class="hljs-keyword">-author</span><span class="hljs-params">(<span class="hljs-string">&quot;ChenLiang&quot;</span>)</span>.<br><br><span class="hljs-comment">%% API</span><br><span class="hljs-keyword">-export</span><span class="hljs-params">([area/<span class="hljs-number">1</span>])</span>.<br><br><br><span class="hljs-function"><span class="hljs-title">area</span><span class="hljs-params">(&#123;rectangle, Width, Height&#125;)</span> -&gt;</span> Width * Height;<br><span class="hljs-function"><span class="hljs-title">area</span><span class="hljs-params">(&#123;circle, R&#125;)</span> -&gt;</span> <span class="hljs-number">3.14159</span> * R * R;<br><span class="hljs-function"><span class="hljs-title">area</span><span class="hljs-params">(&#123;square, X&#125;)</span> -&gt;</span> X * X.<br></code></pre></td></tr></table></figure><p>编译模块，调用函数</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; c(learn_test).<br>&#123;ok,learn_test&#125;<br><span class="hljs-number">2</span>&gt; learn_test:area(&#123;circle, <span class="hljs-number">2.0</span>&#125;).<br><span class="hljs-number">12.56636</span><br><span class="hljs-number">3</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="0x5-函数"><a href="#0x5-函数" class="headerlink" title="0x5 函数"></a>0x5 函数</h3><h4 id="基本函数"><a href="#基本函数" class="headerlink" title="基本函数"></a>基本函数</h4><p>同名同目（参数数量，arity）的才是同一个函数。因此函数名相同，目不相同的函数是完全不同的两个函数。同名不同目的函数通常作为辅助函数。</p><ul><li><p>函数不会显示地返回值，函数中最后一条语句的执行结果将作为函数的返回值。</p></li><li><p>同一个函数中，并列的逻辑分支之间，用分号 “;” 分界；顺序语句之间，用逗号 “,” 分隔。</p></li></ul><p><strong>示例代码：计算列表元素的和</strong></p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">-module</span><span class="hljs-params">(learn_test)</span>.<br><span class="hljs-keyword">-author</span><span class="hljs-params">(<span class="hljs-string">&quot;ChenLiang&quot;</span>)</span>.<br><br><span class="hljs-comment">%% API</span><br><span class="hljs-keyword">-export</span><span class="hljs-params">([sum/<span class="hljs-number">1</span>])</span>.<br><br><span class="hljs-function"><span class="hljs-title">sum</span><span class="hljs-params">(L)</span> -&gt;</span> sum(L, <span class="hljs-number">0</span>).<br><br><span class="hljs-function"><span class="hljs-title">sum</span><span class="hljs-params">([], N)</span> -&gt;</span> N;<br><span class="hljs-function"><span class="hljs-title">sum</span><span class="hljs-params">([H|T], N)</span> -&gt;</span> sum(T, H + N).<br></code></pre></td></tr></table></figure><h4 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h4><p>erlang中的匿名函数就是fun。fun也可以有若干个不同的字句。</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; Z = <span class="hljs-keyword">fun</span>(X) -&gt; <span class="hljs-number">2</span>*X <span class="hljs-keyword">end</span>.<br>#Fun&lt;erl_eval.<span class="hljs-number">6.50752066</span>&gt;<br><span class="hljs-number">2</span>&gt; Double = Z.<br>#Fun&lt;erl_eval.<span class="hljs-number">6.50752066</span>&gt;<br><span class="hljs-number">3</span>&gt; Double(<span class="hljs-number">4</span>).<br><span class="hljs-number">8</span><br><span class="hljs-number">4</span>&gt; TempConvert = <span class="hljs-keyword">fun</span>(&#123;c, C&#125;) -&gt; &#123;f, <span class="hljs-number">32</span> + C * <span class="hljs-number">9</span> / <span class="hljs-number">5</span>&#125;;<br><span class="hljs-number">5</span>&gt; (&#123;f, F&#125;) -&gt; &#123;c, (F - <span class="hljs-number">32</span>) * <span class="hljs-number">5</span> / <span class="hljs-number">9</span>&#125;                <br><span class="hljs-number">6</span>&gt; <span class="hljs-keyword">end</span>.                                             <br>#Fun&lt;erl_eval.<span class="hljs-number">6.50752066</span>&gt;<br><span class="hljs-number">7</span>&gt; TempConvert(&#123;c, <span class="hljs-number">100</span>&#125;).                           <br>&#123;f,<span class="hljs-number">212.0</span>&#125;<br><span class="hljs-number">8</span>&gt; TempConvert(&#123;f, <span class="hljs-number">212</span>&#125;).<br>&#123;c,<span class="hljs-number">100.0</span>&#125;<br></code></pre></td></tr></table></figure><h4 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h4><p>返回fun或者接受fun作为参数的函数都称为高阶函数。</p><p><strong>以fun为参数的函数</strong></p><p>常见的是lists模块中的map(Fun, List1) -&gt; List2，filter(Pred, List1) -&gt; List2函数。</p><p>lists模块的具体使用参见：<a target="_blank" rel="noopener" href="https://www.erlang.org/doc/man/lists.html">https://www.erlang.org/doc/man/lists.html</a></p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; Even = <span class="hljs-keyword">fun</span>(X) -&gt; X <span class="hljs-keyword">rem</span> <span class="hljs-number">2</span> =:= <span class="hljs-number">0</span> <span class="hljs-keyword">end</span>.<br>#Fun&lt;erl_eval.<span class="hljs-number">6.50752066</span>&gt;<br><span class="hljs-number">2</span>&gt; lists:map(Even, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]).<br>[<span class="hljs-literal">false</span>,<span class="hljs-literal">true</span>,<span class="hljs-literal">false</span>,<span class="hljs-literal">true</span>,<span class="hljs-literal">false</span>,<span class="hljs-literal">true</span>]<br><span class="hljs-number">3</span>&gt; lists:filter(Even, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]).<br>[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>]<br></code></pre></td></tr></table></figure><p><strong>返回fun的函数</strong></p><p>一般在返回的函数内部封装了一些变量和逻辑。通常情况下不写返回fun的函数。</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; Mult = <span class="hljs-keyword">fun</span>(Times) -&gt; (<span class="hljs-keyword">fun</span>(X) -&gt; X * Times <span class="hljs-keyword">end</span> ) <span class="hljs-keyword">end</span>.<br>#Fun&lt;erl_eval.<span class="hljs-number">6.50752066</span>&gt;<br><span class="hljs-number">2</span>&gt; Triple = Mult(<span class="hljs-number">3</span>).<br>#Fun&lt;erl_eval.<span class="hljs-number">6.50752066</span>&gt;<br><span class="hljs-number">3</span>&gt; Triple(<span class="hljs-number">4</span>).<br><span class="hljs-number">12</span><br></code></pre></td></tr></table></figure><h3 id="0x6-断言"><a href="#0x6-断言" class="headerlink" title="0x6 断言"></a>0x6 断言</h3><p>强化模式匹配的功能，给模式匹配增加一些变量测试和比较的能力</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-function"><span class="hljs-title">max</span><span class="hljs-params">(X, Y)</span> <span class="hljs-title">when</span> X &gt; Y -&gt;</span> X;<br><span class="hljs-function"><span class="hljs-title">max</span><span class="hljs-params">(_, Y)</span> -&gt;</span> Y.<br></code></pre></td></tr></table></figure><h3 id="0x7-记录"><a href="#0x7-记录" class="headerlink" title="0x7 记录"></a>0x7 记录</h3><p>记录是Erlang中基于元组的key-value数据定义，使用示例如下：</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">-module</span><span class="hljs-params">(learn_test)</span>.<br><span class="hljs-keyword">-author</span><span class="hljs-params">(<span class="hljs-string">&quot;ChenLiang&quot;</span>)</span>.<br><br><span class="hljs-comment">%% API</span><br><span class="hljs-keyword">-export</span><span class="hljs-params">([record_test1/<span class="hljs-number">0</span>, record_test2/<span class="hljs-number">0</span>])</span>.<br><br><span class="hljs-keyword">-record</span><span class="hljs-params">(person, &#123;name, age=<span class="hljs-number">18</span>, hobby=[<span class="hljs-string">&quot;erlang&quot;</span>]&#125;)</span>.    <span class="hljs-comment">%% record定义可以存放于hrl和erl中</span><br><br><span class="hljs-function"><span class="hljs-title">record_test1</span><span class="hljs-params">()</span> -&gt;</span><br>  Person = #person&#123;name=<span class="hljs-string">&quot;hahaha&quot;</span>&#125;,    <span class="hljs-comment">%% 为record中字段赋值</span><br>  Person#person.hobby.    <span class="hljs-comment">%%  通过.操作符访问record中字段</span><br><br><span class="hljs-function"><span class="hljs-title">record_test2</span><span class="hljs-params">()</span> -&gt;</span><br>  Person = #person&#123;&#125;,<br>  #person&#123;name = Name&#125; = Person,    <span class="hljs-comment">%% 通过模式匹配获取record字段</span><br>  Name. <span class="hljs-comment">%% 输出undefined</span><br></code></pre></td></tr></table></figure><h3 id="0x8-hrl头文件"><a href="#0x8-hrl头文件" class="headerlink" title="0x8 .hrl头文件"></a>0x8 .hrl头文件</h3><p>某些文件的扩展名为 <code>.hrl</code>。这些<code>.hrl</code>是在 <code>.erl</code> 文件中会用到的头文件，使用方法如下：</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">-include</span><span class="hljs-params">(<span class="hljs-string">&quot;File_Name&quot;</span>)</span>.<br></code></pre></td></tr></table></figure><p>例如：</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">-include</span><span class="hljs-params">(<span class="hljs-string">&quot;mess_interface.hrl&quot;</span>)</span>.<br></code></pre></td></tr></table></figure><p>.hrl 文件中可以包含任何合法的 Erlang 代码，但是通常里面只包含一些记录和宏的定义。</p><h3 id="0x9-case-x2F-if-表达式"><a href="#0x9-case-x2F-if-表达式" class="headerlink" title="0x9 case &#x2F; if 表达式"></a>0x9 case &#x2F; if 表达式</h3><h4 id="case-表达式"><a href="#case-表达式" class="headerlink" title="case 表达式"></a>case 表达式</h4><p>case语句语法</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">case</span> Experssion <span class="hljs-keyword">of</span><br>  Pattern1 [<span class="hljs-keyword">when</span> Guard1] -&gt; Expr_seq1;<br>  Pattern2 [<span class="hljs-keyword">when</span> Guard2] -&gt; Expr_seq2;<br>  ...<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>将Expression的结果和各个Pattern逐个匹配，匹配成功，则计算表达式序列的值，并返回。全部匹配不到，则直接报错。</p><p>case语句使用示例:</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">-module</span><span class="hljs-params">(learn_test)</span>.<br><span class="hljs-keyword">-author</span><span class="hljs-params">(<span class="hljs-string">&quot;ChenLiang&quot;</span>)</span>.<br><br><span class="hljs-comment">%% API</span><br><span class="hljs-keyword">-export</span><span class="hljs-params">([filter/<span class="hljs-number">2</span>])</span>.<br><br><br><span class="hljs-function"><span class="hljs-title">filter</span><span class="hljs-params">(P, [H|T])</span> -&gt;</span><br>  <span class="hljs-keyword">case</span> P(H) <span class="hljs-keyword">of</span><br>    <span class="hljs-literal">true</span> -&gt; [H|filter(P, T)];<br>    <span class="hljs-literal">false</span> -&gt; filter(P, T)<br>  <span class="hljs-keyword">end</span><br>;<br><span class="hljs-function"><span class="hljs-title">filter</span><span class="hljs-params">(_, [])</span> -&gt;</span> [].<br></code></pre></td></tr></table></figure><p>在erl shell中运行结果如下：</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs erlang-repl"><span class="hljs-meta prompt_">1&gt; </span>c(learn_test).<br>&#123;ok,learn_test&#125;<br><span class="hljs-meta prompt_">2&gt; </span>learn_test:filter(fun(X) -&gt; X rem <span class="hljs-number">2</span> =:= <span class="hljs-number">0</span> end, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]).<br>[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]<br></code></pre></td></tr></table></figure><h4 id="if-表达式"><a href="#if-表达式" class="headerlink" title="if 表达式"></a>if 表达式</h4><p>if语句使用示例</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">-module</span><span class="hljs-params">(learn_test)</span>.<br><span class="hljs-keyword">-author</span><span class="hljs-params">(<span class="hljs-string">&quot;ChenLiang&quot;</span>)</span>.<br><br><span class="hljs-comment">%% API</span><br><span class="hljs-keyword">-export</span><span class="hljs-params">([bigger/<span class="hljs-number">2</span>])</span>.<br><br><br><span class="hljs-function"><span class="hljs-title">bigger</span><span class="hljs-params">(X, Y)</span> -&gt;</span><br>  <span class="hljs-keyword">if</span><br>    X &gt; Y -&gt; X;<br>    X &lt; Y -&gt; Y;<br>    <span class="hljs-literal">true</span> -&gt; -<span class="hljs-number">1</span><br>  <span class="hljs-keyword">end</span>.<br></code></pre></td></tr></table></figure><p>如果没有匹配的断言，则会抛出异常。因此最后一个断言通常是true断言。</p><h3 id="0xA-异常"><a href="#0xA-异常" class="headerlink" title="0xA 异常"></a>0xA 异常</h3><p>Erlang中一切都是表达式，都有返回值，因此异常捕获语句也有返回值。</p><p>捕获所有的异常<code>_:_</code></p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-keyword">-module</span><span class="hljs-params">(learn_test)</span>.<br><span class="hljs-keyword">-author</span><span class="hljs-params">(<span class="hljs-string">&quot;ChenLiang&quot;</span>)</span>.<br><br><span class="hljs-comment">%% API</span><br><span class="hljs-keyword">-export</span><span class="hljs-params">([catch_exc1/<span class="hljs-number">0</span>,catch_exc2/<span class="hljs-number">0</span>])</span>.<br><br><br><span class="hljs-function"><span class="hljs-title">exception</span><span class="hljs-params">()</span> -&gt;</span><br>  exit(&#123;system, <span class="hljs-string">&quot;123123&quot;</span>&#125;).<br><br><span class="hljs-function"><span class="hljs-title">catch_exc1</span><span class="hljs-params">()</span> -&gt;</span><br>  <span class="hljs-keyword">try</span><br>      exception()<br>  <span class="hljs-keyword">catch</span><br>      _:_  -&gt; <span class="hljs-number">111</span><br>  <span class="hljs-keyword">end</span>.<br><br><span class="hljs-function"><span class="hljs-title">catch_exc2</span><span class="hljs-params">()</span> -&gt;</span><br>  <span class="hljs-keyword">try</span><br>    exception()<br>  <span class="hljs-keyword">catch</span><br>    _  -&gt; <span class="hljs-number">222</span><br>  <span class="hljs-keyword">end</span>.<br></code></pre></td></tr></table></figure><p>erl shell输出结果</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><span class="hljs-number">1</span>&gt; learn_test:catch_exc1().<br><span class="hljs-number">111</span><br><span class="hljs-number">2</span>&gt; learn_test:catch_exc2().<br>** exception exit: &#123;system,<span class="hljs-string">&quot;123123&quot;</span>&#125;<br>     in function  learn_test:exception/<span class="hljs-number">0</span> (learn_test.erl, line <span class="hljs-number">17</span>)<br>     in call from learn_test:catch_exc2/<span class="hljs-number">0</span> (learn_test.erl, line <span class="hljs-number">28</span>)<br></code></pre></td></tr></table></figure><p>多种错误的检测可以 使用try catch风格。</p><p>参考<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/666111/how-do-i-elegantly-check-many-conditions-in-erlang/669075#669075">stackoverflow-How do I elegantly check many conditions in Erlang?</a></p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/erlang/" class="category-chain-item">erlang</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Erlang/">#Erlang</a></div></div><div class="license-box my-3"><div class="license-title"><div>Erlang学习笔记(1)</div><div>https://suncle.me/posts/3652260204/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Suncle Chen</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2017年8月11日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/posts/3984252732/" title="设计一个基于flask的高并发高可用的查询ip的http服务"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">设计一个基于flask的高并发高可用的查询ip的http服务</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/posts/3799691330/" title="结合公司现状浅谈CMDB"><span class="hidden-mobile">结合公司现状浅谈CMDB</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><script type="text/javascript">Fluid.utils.loadComments("#comments",(function(){var t=document.documentElement.getAttribute("data-user-color-scheme");t="dark"===t?"github-dark":"github-light",window.UtterancesThemeLight="github-light",window.UtterancesThemeDark="github-dark";var e=document.createElement("script");e.setAttribute("src","https://utteranc.es/client.js"),e.setAttribute("repo","suncle1993/suncle1993.github.io"),e.setAttribute("issue-term","pathname"),e.setAttribute("label","utterances"),e.setAttribute("theme",t),e.setAttribute("crossorigin","anonymous"),document.getElementById("comments").appendChild(e)}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var o=jQuery("#board-ctn").offset().top;window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-o}),t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var o=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),n=[];for(var i of o)n.push(".markdown-body > "+i.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(n.join(", "))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>